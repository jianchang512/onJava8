<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>附录:理解equals和hashCode方法 | On Java8</title>
    <meta name="description" content="java 编程思想第5版，on java 8">
    <link rel="preload stylesheet" href="/assets/style.32830522.css" as="style">
    
    <script type="module" src="/assets/app.40fa6093.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.c3fbb961.js">
    <link rel="modulepreload" href="/assets/chunks/theme.cf463109.js">
    <link rel="modulepreload" href="/assets/book_Appendix-Understanding-equals-and-hashCode.md.5a1b02f0.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-9d8abc1e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-9d8abc1e data-v-7ad780c2><div class="VPNavBar has-sidebar" data-v-7ad780c2 data-v-f1abbc6e><div class="container" data-v-f1abbc6e><div class="title" data-v-f1abbc6e><div class="VPNavBarTitle has-sidebar" data-v-f1abbc6e data-v-2973dbb4><a class="title" href="/" data-v-2973dbb4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.jpg" alt data-v-ab19afbb><!--]--><!--[-->On Java8<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f1abbc6e><div class="curtain" data-v-f1abbc6e></div><div class="content-body" data-v-f1abbc6e><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f1abbc6e><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f1abbc6e data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/book/00-On-Java-8.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>开始阅读</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://cpu.wonyes.org" target="_blank" rel="noreferrer" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>计算机底层</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://www.wonyes.org" target="_blank" rel="noreferrer" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>原创画作</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f1abbc6e data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-283b26e9 data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f1abbc6e data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/jianchang512/onJava8" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f1abbc6e data-v-c8c2ae4b data-v-aa8de344><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-aa8de344><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-aa8de344><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-aa8de344><div class="VPMenu" data-v-aa8de344 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-c8c2ae4b><div class="item appearance" data-v-c8c2ae4b><p class="label" data-v-c8c2ae4b>Appearance</p><div class="appearance-action" data-v-c8c2ae4b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-c8c2ae4b data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-c8c2ae4b><div class="item social-links" data-v-c8c2ae4b><div class="VPSocialLinks social-links-list" data-v-c8c2ae4b data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/jianchang512/onJava8" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f1abbc6e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-9d8abc1e data-v-9e669cc1><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-9e669cc1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-9e669cc1><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-9e669cc1>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9e669cc1 data-v-24251f6f><button data-v-24251f6f>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-9d8abc1e data-v-ee2efba5><div class="curtain" data-v-ee2efba5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ee2efba5><span class="visually-hidden" id="sidebar-aria-label" data-v-ee2efba5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/00-On-Java-8.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>On Java 8</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/00-On-Java-8.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>封面</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/00-Preface.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>前言</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/00-Introduction.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>简介</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第一章 对象的概念</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E6%8A%BD%E8%B1%A1" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>抽象</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E6%8E%A5%E5%8F%A3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>接口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>服务提供</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E5%B0%81%E8%A3%85" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>封装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E5%A4%8D%E7%94%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>复用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E7%BB%A7%E6%89%BF" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>继承</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E5%A4%9A%E6%80%81" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>多态</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E5%8D%95%E7%BB%A7%E6%89%BF" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>单继承</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E9%9B%86%E5%90%88" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>集合</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>生命周期</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>异常处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/01-What-is-an-Object.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/02-Installing-Java-and-the-Book-Examples.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第二章 安装Java和本书用例</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/02-Installing-Java-and-the-Book-Examples.html#%E7%BC%96%E8%BE%91%E5%99%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>编辑器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/02-Installing-Java-and-the-Book-Examples.html#Shell" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Shell</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/02-Installing-Java-and-the-Book-Examples.html#Java%E5%AE%89%E8%A3%85" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Java安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/02-Installing-Java-and-the-Book-Examples.html#%E6%A0%A1%E9%AA%8C%E5%AE%89%E8%A3%85" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>校验安装</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0" data-v-ee2efba5 data-v-bd01e0d5><!----><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/02-Installing-Java-and-the-Book-Examples.html#%E5%AE%89%E8%A3%85%E5%92%8C%E8%BF%90%E8%A1%8C%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>安装和运行代码示例</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/03-Objects-Everywhere.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第三章 万物皆对象</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/03-Objects-Everywhere.html#%E5%AF%B9%E8%B1%A1%E6%93%8D%E7%BA%B5" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>对象操纵</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/03-Objects-Everywhere.html#%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>对象创建</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/03-Objects-Everywhere.html#%E4%BB%A3%E7%A0%81%E6%B3%A8%E9%87%8A" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>代码注释</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/03-Objects-Everywhere.html#%E5%AF%B9%E8%B1%A1%E6%B8%85%E7%90%86" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>对象清理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/03-Objects-Everywhere.html#%E7%B1%BB%E7%9A%84%E5%88%9B%E5%BB%BA" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>类的创建</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/03-Objects-Everywhere.html#%E7%A8%8B%E5%BA%8F%E7%BC%96%E5%86%99" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>程序编写</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/03-Objects-Everywhere.html#%E5%B0%8F%E8%AF%95%E7%89%9B%E5%88%80" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>小试牛刀</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/03-Objects-Everywhere.html#%E7%BC%96%E7%A0%81%E9%A3%8E%E6%A0%BC" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>编码风格</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/03-Objects-Everywhere.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第四章 运算符</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>开始使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E4%BC%98%E5%85%88%E7%BA%A7" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>优先级</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E8%B5%8B%E5%80%BC" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>赋值</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>算术运算符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E9%80%92%E5%A2%9E%E5%92%8C%E9%80%92%E5%87%8F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>递增和递减</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>关系运算符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>逻辑运算符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E5%AD%97%E9%9D%A2%E5%80%BC%E5%B8%B8%E9%87%8F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>字面值常量</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E6%8C%89%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>按位运算符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>移位运算符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>三元运算符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%90%E7%AE%97%E7%AC%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>字符串运算符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E5%B8%B8%E8%A7%81%E9%99%B7%E9%98%B1" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>常见陷阱</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>类型转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#Java%E6%B2%A1%E6%9C%89sizeof" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Java没有sizeof</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E8%BF%90%E7%AE%97%E7%AC%A6%E6%80%BB%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>运算符总结</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/04-Operators.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/05-Control-Flow.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第五章 控制流</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/05-Control-Flow.html#true%E5%92%8Cflase" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>true和flase</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/05-Control-Flow.html#if-else" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>if-else</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/05-Control-Flow.html#%E8%BF%AD%E4%BB%A3%E8%AF%AD%E5%8F%A5" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>迭代语句</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/05-Control-Flow.html#for-in%E8%AF%AD%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>for-in语法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/05-Control-Flow.html#return" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>return</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/05-Control-Flow.html#break%E5%92%8Ccontinue" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>break和continue</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/05-Control-Flow.html#%E8%87%AD%E5%90%8D%E6%98%AD%E8%91%97%E7%9A%84goto" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>臭名昭著的goto</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/05-Control-Flow.html#switch" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>switch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/05-Control-Flow.html#switch%E5%AD%97%E7%AC%A6%E4%B8%B2" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>switch字符串</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/05-Control-Flow.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/06-Housekeeping.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第六章 初始化和清理</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/06-Housekeeping.html#%E5%88%A9%E7%94%A8%E6%9E%84%E9%80%A0%E5%99%A8%E4%BF%9D%E8%AF%81%E5%88%9D%E5%A7%8B%E5%8C%96" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>利用构造器保证初始化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/06-Housekeeping.html#%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>方法重载</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/06-Housekeeping.html#%E6%97%A0%E5%8F%82%E6%9E%84%E9%80%A0%E5%99%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>无参构造器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/06-Housekeeping.html#this%E5%85%B3%E9%94%AE%E5%AD%97" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>this关键字</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/06-Housekeeping.html#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>垃圾回收器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/06-Housekeeping.html#%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>成员初始化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/06-Housekeeping.html#%E6%9E%84%E9%80%A0%E5%99%A8%E5%88%9D%E5%A7%8B%E5%8C%96" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>构造器初始化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/06-Housekeeping.html#%E6%95%B0%E7%BB%84%E5%88%9D%E5%A7%8B%E5%8C%96" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>数组初始化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/06-Housekeeping.html#%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>枚举类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/06-Housekeeping.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/07-Implementation-Hiding.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第七章 封装</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/07-Implementation-Hiding.html#%E5%8C%85%E7%9A%84%E6%A6%82%E5%BF%B5" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>包的概念</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/07-Implementation-Hiding.html#%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>访问权限修饰符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/07-Implementation-Hiding.html#%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%AE%9E%E7%8E%B0" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>接口和实现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/07-Implementation-Hiding.html#%E7%B1%BB%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>类访问权限</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/07-Implementation-Hiding.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/08-Reuse.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第八章 复用</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/08-Reuse.html#%E7%BB%84%E5%90%88%E8%AF%AD%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>组合语法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/08-Reuse.html#%E7%BB%A7%E6%89%BF%E8%AF%AD%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>继承语法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/08-Reuse.html#%E5%A7%94%E6%89%98" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>委托</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/08-Reuse.html#%E7%BB%93%E5%90%88%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>结合组合与继承</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/08-Reuse.html#%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF%E7%9A%84%E9%80%89%E6%8B%A9" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>组合与继承的选择</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/08-Reuse.html#protected" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>protected</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/08-Reuse.html#%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>向上转型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/08-Reuse.html#final%E5%85%B3%E9%94%AE%E5%AD%97" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>final关键字</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/08-Reuse.html#%E7%B1%BB%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E5%8A%A0%E8%BD%BD" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>类初始化和加载</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/08-Reuse.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/09-Polymorphism.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第九章 多态</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/09-Polymorphism.html#%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B%E5%9B%9E%E6%BA%AF" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>向上转型回溯</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/09-Polymorphism.html#%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>深入理解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/09-Polymorphism.html#%E6%9E%84%E9%80%A0%E5%99%A8%E5%92%8C%E5%A4%9A%E6%80%81" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>构造器和多态</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/09-Polymorphism.html#%E8%BF%94%E5%9B%9E%E7%B1%BB%E5%9E%8B%E5%8D%8F%E5%8F%98" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>返回类型协变</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/09-Polymorphism.html#%E4%BD%BF%E7%94%A8%E7%BB%A7%E6%89%BF%E8%AE%BE%E8%AE%A1" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用继承设计</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/09-Polymorphism.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第十章 接口</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%96%B9%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>抽象类和方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html#%E6%8E%A5%E5%8F%A3%E5%88%9B%E5%BB%BA" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>接口创建</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>抽象类和接口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html#%E5%AE%8C%E5%85%A8%E8%A7%A3%E8%80%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>完全解耦</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html#%E5%A4%9A%E6%8E%A5%E5%8F%A3%E7%BB%93%E5%90%88" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>多接口结合</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html#%E4%BD%BF%E7%94%A8%E7%BB%A7%E6%89%BF%E6%89%A9%E5%B1%95%E6%8E%A5%E5%8F%A3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用继承扩展接口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html#%E6%8E%A5%E5%8F%A3%E9%80%82%E9%85%8D" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>接口适配</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html#%E6%8E%A5%E5%8F%A3%E5%AD%97%E6%AE%B5" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>接口字段</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html#%E6%8E%A5%E5%8F%A3%E5%B5%8C%E5%A5%97" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>接口嵌套</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html#%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>接口和工厂方法模式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/10-Interfaces.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第十一章 内部类</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E5%88%9B%E5%BB%BA%E5%86%85%E9%83%A8%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>创建内部类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E9%93%BE%E6%8E%A5%E5%A4%96%E9%83%A8%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>链接外部类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E5%86%85%E9%83%A8%E7%B1%BBthis%E5%92%8Cnew%E7%9A%84%E4%BD%BF%E7%94%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>内部类this和new的使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E5%86%85%E9%83%A8%E7%B1%BB%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>内部类向上转型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E5%86%85%E9%83%A8%E7%B1%BB%E6%96%B9%E6%B3%95%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>内部类方法和作用域</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>匿名内部类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E5%B5%8C%E5%A5%97%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>嵌套类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%86%85%E9%83%A8%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>为什么需要内部类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E7%BB%A7%E6%89%BF%E5%86%85%E9%83%A8%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>继承内部类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E9%87%8D%E5%86%99%E5%86%85%E9%83%A8%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>重写内部类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E5%86%85%E9%83%A8%E7%B1%BB%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>内部类局部变量</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E5%86%85%E9%83%A8%E7%B1%BB%E6%A0%87%E8%AF%86%E7%AC%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>内部类标识符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/11-Inner-Classes.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第十二章 集合</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E6%B3%9B%E5%9E%8B%E5%92%8C%E7%B1%BB%E5%9E%8B%E5%AE%89%E5%85%A8%E7%9A%84%E9%9B%86%E5%90%88" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>泛型和类型安全的集合</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>基本概念</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%E7%BB%84" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>添加元素组</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E9%9B%86%E5%90%88%E7%9A%84%E6%89%93%E5%8D%B0" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>集合的打印</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E5%88%97%E8%A1%A8List" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>列表List</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E8%BF%AD%E4%BB%A3%E5%99%A8Iterators" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>迭代器Iterators</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E9%93%BE%E8%A1%A8LinkedList" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>链表LinkedList</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E5%A0%86%E6%A0%88Stack" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>堆栈Stack</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E9%9B%86%E5%90%88Set" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>集合Set</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E6%98%A0%E5%B0%84Map" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>映射Map</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E9%98%9F%E5%88%97Queue" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>队列Queue</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E9%9B%86%E5%90%88%E4%B8%8E%E8%BF%AD%E4%BB%A3%E5%99%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>集合与迭代器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#for-in%E5%92%8C%E8%BF%AD%E4%BB%A3%E5%99%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>for-in和迭代器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/12-Collections.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/13-Functional-Programming.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第十三章 函数式编程</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/13-Functional-Programming.html#%E6%96%B0%E6%97%A7%E5%AF%B9%E6%AF%94" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>新旧对比</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/13-Functional-Programming.html#Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Lambda表达式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/13-Functional-Programming.html#%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>方法引用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/13-Functional-Programming.html#%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>函数式接口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/13-Functional-Programming.html#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>高阶函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/13-Functional-Programming.html#%E9%97%AD%E5%8C%85" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>闭包</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/13-Functional-Programming.html#%E5%87%BD%E6%95%B0%E7%BB%84%E5%90%88" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>函数组合</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/13-Functional-Programming.html#%E6%9F%AF%E9%87%8C%E5%8C%96%E5%92%8C%E9%83%A8%E5%88%86%E6%B1%82%E5%80%BC" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>柯里化和部分求值</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/13-Functional-Programming.html#%E7%BA%AF%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>纯函数式编程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/13-Functional-Programming.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/14-Streams.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第十四章 流式编程</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/14-Streams.html#%E6%B5%81%E6%94%AF%E6%8C%81" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>流支持</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/14-Streams.html#%E6%B5%81%E5%88%9B%E5%BB%BA" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>流创建</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/14-Streams.html#%E4%B8%AD%E7%BA%A7%E6%B5%81%E6%93%8D%E4%BD%9C" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>中级流操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/14-Streams.html#Optional%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Optional类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/14-Streams.html#%E7%BB%88%E7%AB%AF%E6%93%8D%E4%BD%9C" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>终端操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/14-Streams.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第十五章 异常</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E5%BC%82%E5%B8%B8%E6%A6%82%E5%BF%B5" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>异常概念</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E5%9F%BA%E6%9C%AC%E5%BC%82%E5%B8%B8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>基本异常</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>异常捕获</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>自定义异常</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E5%BC%82%E5%B8%B8%E8%A7%84%E8%8C%83" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>异常规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E4%BB%BB%E6%84%8F%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>任意异常捕获</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#Java%E6%A0%87%E5%87%86%E5%BC%82%E5%B8%B8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Java标准异常</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#finally%E5%85%B3%E9%94%AE%E5%AD%97" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>finally关键字</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E5%BC%82%E5%B8%B8%E9%99%90%E5%88%B6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>异常限制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E5%BC%82%E5%B8%B8%E6%9E%84%E9%80%A0" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>异常构造</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#Try-With-Resources%E7%94%A8%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Try-With-Resources用法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E5%BC%82%E5%B8%B8%E5%8C%B9%E9%85%8D" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>异常匹配</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E5%BC%82%E5%B8%B8%E5%87%86%E5%88%99" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>异常准则</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E5%BC%82%E5%B8%B8%E6%8C%87%E5%8D%97" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>异常指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/15-Exceptions.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第十六章 代码校验</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E6%B5%8B%E8%AF%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>测试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>前提条件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>测试驱动开发</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E6%97%A5%E5%BF%97" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>日志</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E8%B0%83%E8%AF%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>调试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>基准测试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E5%88%86%E6%9E%90%E5%92%8C%E4%BC%98%E5%8C%96" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>分析和优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E9%A3%8E%E6%A0%BC%E6%A3%80%E6%B5%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>风格检测</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E9%9D%99%E6%80%81%E9%94%99%E8%AF%AF%E5%88%86%E6%9E%90" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>静态错误分析</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E4%BB%A3%E7%A0%81%E9%87%8D%E5%AE%A1" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>代码重审</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E7%BB%93%E5%AF%B9%E7%BC%96%E7%A8%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>结对编程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E9%87%8D%E6%9E%84" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>重构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>持续集成</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/16-Validating-Your-Code.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/17-Files.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第十七章 文件</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/17-Files.html#%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E8%B7%AF%E5%BE%84" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>文件和目录路径</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/17-Files.html#%E7%9B%AE%E5%BD%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>目录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/17-Files.html#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>文件系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/17-Files.html#%E8%B7%AF%E5%BE%84%E7%9B%91%E5%90%AC" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>路径监听</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/17-Files.html#%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>文件查找</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/17-Files.html#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>文件读写</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/17-Files.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/18-Strings.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第十八章 字符串</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/18-Strings.html#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E4%B8%8D%E5%8F%AF%E5%8F%98" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>字符串的不可变</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/18-Strings.html#%E9%87%8D%E8%BD%BD%E5%92%8CStringBuilder" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>重载和StringBuilder</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/18-Strings.html#%E6%84%8F%E5%A4%96%E9%80%92%E5%BD%92" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>意外递归</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/18-Strings.html#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>字符串操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/18-Strings.html#%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>格式化输出</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/18-Strings.html#%E5%B8%B8%E8%A7%84%E8%A1%A8%E8%BE%BE%E5%BC%8F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>常规表达式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/18-Strings.html#%E6%89%AB%E6%8F%8F%E8%BE%93%E5%85%A5" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>扫描输入</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/18-Strings.html#StringTokenizer%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>StringTokenizer类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/18-Strings.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/19-Type-Information.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第十九章 类型信息</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/19-Type-Information.html#%E8%BF%90%E8%A1%8C%E6%97%B6%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>运行时类型信息</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/19-Type-Information.html#%E7%B1%BB%E7%9A%84%E5%AF%B9%E8%B1%A1" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>类的对象</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/19-Type-Information.html#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%A3%80%E6%B5%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>类型转换检测</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/19-Type-Information.html#%E6%B3%A8%E5%86%8C%E5%B7%A5%E5%8E%82" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>注册工厂</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/19-Type-Information.html#%E7%B1%BB%E7%9A%84%E7%AD%89%E4%BB%B7%E6%AF%94%E8%BE%83" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>类的等价比较</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/19-Type-Information.html#%E5%8F%8D%E5%B0%84%E8%BF%90%E8%A1%8C%E6%97%B6%E7%B1%BB%E4%BF%A1%E6%81%AF" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>反射运行时类信息</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/19-Type-Information.html#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>动态代理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/19-Type-Information.html#Optional%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Optional类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/19-Type-Information.html#%E6%8E%A5%E5%8F%A3%E5%92%8C%E7%B1%BB%E5%9E%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>接口和类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/19-Type-Information.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第二十章 泛型</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E7%AE%80%E5%8D%95%E6%B3%9B%E5%9E%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>简单泛型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>泛型接口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>泛型方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E5%A4%8D%E6%9D%82%E6%A8%A1%E5%9E%8B%E6%9E%84%E5%BB%BA" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>复杂模型构建</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E6%B3%9B%E5%9E%8B%E6%93%A6%E9%99%A4" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>泛型擦除</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E8%A1%A5%E5%81%BF%E6%93%A6%E9%99%A4" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>补偿擦除</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E8%BE%B9%E7%95%8C" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>边界</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E9%80%9A%E9%85%8D%E7%AC%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>通配符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E9%97%AE%E9%A2%98" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E8%87%AA%E6%88%91%E7%BA%A6%E6%9D%9F%E7%B1%BB%E5%9E%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>自我约束类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E5%8A%A8%E6%80%81%E7%B1%BB%E5%9E%8B%E5%AE%89%E5%85%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>动态类型安全</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E6%B3%9B%E5%9E%8B%E5%BC%82%E5%B8%B8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>泛型异常</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E6%B7%B7%E5%85%A5" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>混入</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E6%BD%9C%E5%9C%A8%E7%B1%BB%E5%9E%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>潜在类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E8%A1%A5%E5%81%BF%E4%B8%8D%E8%B6%B3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>补偿不足</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E8%BE%85%E5%8A%A9%E6%BD%9C%E5%9C%A8%E7%B1%BB%E5%9E%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>辅助潜在类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/20-Generics.html#%E6%B3%9B%E5%9E%8B%E7%9A%84%E4%BC%98%E5%8A%A3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>泛型的优劣</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第二十一章 数组</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E6%95%B0%E7%BB%84%E7%89%B9%E6%80%A7" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>数组特性</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E4%B8%80%E7%AD%89%E5%AF%B9%E8%B1%A1" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>一等对象</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E8%BF%94%E5%9B%9E%E6%95%B0%E7%BB%84" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>返回数组</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>多维数组</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E6%B3%9B%E5%9E%8B%E6%95%B0%E7%BB%84" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>泛型数组</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#Arrays%E7%9A%84fill%E6%96%B9%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Arrays的fill方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#Arrays%E7%9A%84setAll%E6%96%B9%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Arrays的setAll方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E5%A2%9E%E9%87%8F%E7%94%9F%E6%88%90" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>增量生成</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E9%9A%8F%E6%9C%BA%E7%94%9F%E6%88%90" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>随机生成</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E6%B3%9B%E5%9E%8B%E5%92%8C%E5%9F%BA%E6%9C%AC%E6%95%B0%E7%BB%84" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>泛型和基本数组</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E4%BF%AE%E6%94%B9" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>数组元素修改</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E6%95%B0%E7%BB%84%E5%B9%B6%E8%A1%8C" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>数组并行</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#Arrays%E5%B7%A5%E5%85%B7%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Arrays工具类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E6%95%B0%E7%BB%84%E6%8B%B7%E8%B4%9D" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>数组拷贝</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E6%95%B0%E7%BB%84%E6%AF%94%E8%BE%83" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>数组比较</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E6%B5%81%E5%92%8C%E6%95%B0%E7%BB%84" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>流和数组</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>数组排序</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#binarySearch%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>binarySearch二分查找</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#parallelPrefix%E5%B9%B6%E8%A1%8C%E5%89%8D%E7%BC%80" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>parallelPrefix并行前缀</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/21-Arrays.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第二十二章 枚举</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>基本功能</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#%E6%96%B9%E6%B3%95%E6%B7%BB%E5%8A%A0" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>方法添加</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#switch%E8%AF%AD%E5%8F%A5" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>switch语句</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#values%E6%96%B9%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>values方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#%E5%AE%9E%E7%8E%B0%E8%80%8C%E9%9D%9E%E7%BB%A7%E6%89%BF" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>实现而非继承</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#%E9%9A%8F%E6%9C%BA%E9%80%89%E6%8B%A9" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>随机选择</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#%E4%BD%BF%E7%94%A8%E6%8E%A5%E5%8F%A3%E7%BB%84%E7%BB%87" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用接口组织</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#%E4%BD%BF%E7%94%A8EnumSet%E6%9B%BF%E4%BB%A3Flags" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用EnumSet替代Flags</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#%E4%BD%BF%E7%94%A8EnumMap" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用EnumMap</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#%E5%B8%B8%E9%87%8F%E7%89%B9%E5%AE%9A%E6%96%B9%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>常量特定方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#%E5%A4%9A%E6%AC%A1%E8%B0%83%E5%BA%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>多次调度</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/22-Enumerations.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/23-Annotations.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第二十三章 注解</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/23-Annotations.html#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>基本语法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/23-Annotations.html#%E7%BC%96%E5%86%99%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%99%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>编写注解处理器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/23-Annotations.html#%E4%BD%BF%E7%94%A8javac%E5%A4%84%E7%90%86%E6%B3%A8%E8%A7%A3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用javac处理注解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/23-Annotations.html#%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>基于注解的单元测试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/23-Annotations.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第二十四章 并发编程</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E6%9C%AF%E8%AF%AD%E9%97%AE%E9%A2%98" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>术语问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E5%B9%B6%E5%8F%91%E7%9A%84%E8%B6%85%E8%83%BD%E5%8A%9B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>并发的超能力</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E9%92%88%E5%AF%B9%E9%80%9F%E5%BA%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>针对速度</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E5%9B%9B%E5%8F%A5%E6%A0%BC%E8%A8%80" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>四句格言</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E6%AE%8B%E9%85%B7%E7%9A%84%E7%9C%9F%E7%9B%B8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>残酷的真相</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E6%9C%AC%E7%AB%A0%E5%85%B6%E4%BD%99%E9%83%A8%E5%88%86" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章其余部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E5%B9%B6%E8%A1%8C%E6%B5%81" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>并行流</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E5%88%9B%E5%BB%BA%E5%92%8C%E8%BF%90%E8%A1%8C%E4%BB%BB%E5%8A%A1" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>创建和运行任务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E7%BB%88%E6%AD%A2%E8%80%97%E6%97%B6%E4%BB%BB%E5%8A%A1" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>终止耗时任务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#CompletableFuture%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CompletableFuture类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E6%AD%BB%E9%94%81" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>死锁</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E9%9D%9E%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>构造函数非线程安全</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E5%A4%8D%E6%9D%82%E6%80%A7%E5%92%8C%E4%BB%A3%E4%BB%B7" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>复杂性和代价</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/24-Concurrent-Programming.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>第二十五章 设计模式</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E6%A6%82%E5%BF%B5" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>概念</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E6%9E%84%E5%BB%BA%E5%9E%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>构建型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E9%9D%A2%E5%90%91%E5%AE%9E%E6%96%BD" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>面向实施</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>工厂模式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>函数对象</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E6%8E%A5%E5%8F%A3%E6%94%B9%E5%8F%98" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>接口改变</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E8%A7%A3%E9%87%8A%E5%99%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>解释器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E5%9B%9E%E8%B0%83" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>回调</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E5%A4%9A%E6%AC%A1%E8%B0%83%E5%BA%A6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>多次调度</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E6%A8%A1%E5%BC%8F%E9%87%8D%E6%9E%84" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>模式重构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E6%8A%BD%E8%B1%A1%E7%94%A8%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>抽象用法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E5%A4%9A%E6%AC%A1%E6%B4%BE%E9%81%A3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>多次派遣</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>访问者模式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#RTTI%E7%9A%84%E4%BC%98%E5%8A%A3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>RTTI的优劣</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/25-Patterns.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Supplements.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:补充</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Supplements.html#%E5%8F%AF%E4%B8%8B%E8%BD%BD%E7%9A%84%E8%A1%A5%E5%85%85" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>可下载的补充</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Supplements.html#%E9%80%9A%E8%BF%87Thinking-in-C%E6%9D%A5%E5%B7%A9%E5%9B%BAJava%E5%9F%BA%E7%A1%80" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>通过Thinking-in-C来巩固Java基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Supplements.html#%E5%8A%A8%E6%89%8B%E5%AE%9E%E8%B7%B5" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>动手实践</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Programming-Guidelines.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:编程指南</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Programming-Guidelines.html#%E8%AE%BE%E8%AE%A1" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>设计</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Programming-Guidelines.html#%E5%AE%9E%E7%8E%B0" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>实现</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0" data-v-ee2efba5 data-v-bd01e0d5><!----><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Javadoc.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>附录:文档注释</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Passing-and-Returning-Objects.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:对象传递和返回</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Passing-and-Returning-Objects.html#%E4%BC%A0%E9%80%92%E5%BC%95%E7%94%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>传递引用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Passing-and-Returning-Objects.html#%E6%9C%AC%E5%9C%B0%E6%8B%B7%E8%B4%9D" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本地拷贝</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Passing-and-Returning-Objects.html#%E6%8E%A7%E5%88%B6%E5%85%8B%E9%9A%86" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>控制克隆</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Passing-and-Returning-Objects.html#%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>不可变类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Passing-and-Returning-Objects.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-IO-Streams.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:流式IO</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-IO-Streams.html#%E8%BE%93%E5%85%A5%E6%B5%81%E7%B1%BB%E5%9E%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>输入流类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-IO-Streams.html#%E8%BE%93%E5%87%BA%E6%B5%81%E7%B1%BB%E5%9E%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>输出流类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-IO-Streams.html#%E6%B7%BB%E5%8A%A0%E5%B1%9E%E6%80%A7%E5%92%8C%E6%9C%89%E7%94%A8%E7%9A%84%E6%8E%A5%E5%8F%A3" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>添加属性和有用的接口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-IO-Streams.html#Reader%E5%92%8CWriter" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Reader和Writer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-IO-Streams.html#RandomAccessFile%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>RandomAccessFile类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-IO-Streams.html#IO%E6%B5%81%E5%85%B8%E5%9E%8B%E7%94%A8%E9%80%94" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>IO流典型用途</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-IO-Streams.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Standard-IO.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:标准IO</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Standard-IO.html#%E6%89%A7%E8%A1%8C%E6%8E%A7%E5%88%B6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>执行控制</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-New-IO.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:新IO</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-New-IO.html#ByteBuffer" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>ByteBuffer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-New-IO.html#%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>转换数据</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-New-IO.html#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E8%8E%B7%E5%8F%96" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>获取原始类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-New-IO.html#%E8%A7%86%E5%9B%BE%E7%BC%93%E5%86%B2%E5%8C%BA" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>视图缓冲区</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-New-IO.html#%E7%BC%93%E5%86%B2%E5%8C%BA%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用缓冲区进行数据操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-New-IO.html#%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>内存映射文件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-New-IO.html#%E6%96%87%E4%BB%B6%E9%94%81%E5%AE%9A" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>文件锁定</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Understanding-equals-and-hashCode.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:理解equals和hashCode方法</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Understanding-equals-and-hashCode.html#equals%E5%85%B8%E8%8C%83" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>equals典范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Understanding-equals-and-hashCode.html#%E5%93%88%E5%B8%8C%E5%92%8C%E5%93%88%E5%B8%8C%E7%A0%81" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>哈希和哈希码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Understanding-equals-and-hashCode.html#%E8%B0%83%E6%95%B4HashMap" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>调整HashMap</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:集合主题</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E7%A4%BA%E4%BE%8B%E6%95%B0%E6%8D%AE" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>示例数据</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#List%E8%A1%A8%E7%8E%B0" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>List表现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#Set%E8%A1%A8%E7%8E%B0" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Set表现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E5%9C%A8Map%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E5%BC%8F%E6%93%8D%E4%BD%9C" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>在Map中使用函数式操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E9%80%89%E6%8B%A9Map%E7%9A%84%E9%83%A8%E5%88%86" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>选择Map的部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E9%9B%86%E5%90%88%E7%9A%84fill%E6%96%B9%E6%B3%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>集合的fill方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E4%BD%BF%E7%94%A8Flyweight%E8%87%AA%E5%AE%9A%E4%B9%89%E9%9B%86%E5%90%88%E5%92%8CMap" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用Flyweight自定义集合和Map</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E9%9B%86%E5%90%88%E5%8A%9F%E8%83%BD" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>集合功能</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E5%8F%AF%E9%80%89%E6%93%8D%E4%BD%9C" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>可选操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#Set%E5%92%8C%E5%AD%98%E5%82%A8%E9%A1%BA%E5%BA%8F" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Set和存储顺序</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E9%98%9F%E5%88%97" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>队列</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E7%90%86%E8%A7%A3Map" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>理解Map</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E9%9B%86%E5%90%88%E5%B7%A5%E5%85%B7%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>集合工具类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E6%8C%81%E6%9C%89%E5%BC%95%E7%94%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>持有引用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E9%81%BF%E5%85%8D%E6%97%A7%E5%BC%8F%E7%B1%BB%E5%BA%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>避免旧式类库</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Collection-Topics.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Low-Level-Concurrency.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:并发底层原理</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Low-Level-Concurrency.html#%E7%BA%BF%E7%A8%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>线程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Low-Level-Concurrency.html#%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>异常捕获</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Low-Level-Concurrency.html#%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>资源共享</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Low-Level-Concurrency.html#volatile%E5%85%B3%E9%94%AE%E5%AD%97" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>volatile关键字</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Low-Level-Concurrency.html#%E5%8E%9F%E5%AD%90%E6%80%A7" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>原子性</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Low-Level-Concurrency.html#%E5%85%B3%E9%94%AE%E9%83%A8%E5%88%86" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>关键部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Low-Level-Concurrency.html#%E5%BA%93%E7%BB%84%E4%BB%B6" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>库组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Low-Level-Concurrency.html#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>本章小结</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Data-Compression.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:数据压缩</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Data-Compression.html#%E4%BD%BF%E7%94%A8Gzip%E7%AE%80%E5%8D%95%E5%8E%8B%E7%BC%A9" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用Gzip简单压缩</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Data-Compression.html#%E4%BD%BF%E7%94%A8zip%E5%A4%9A%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用zip多文件存储</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Data-Compression.html#Java%E7%9A%84jar" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Java的jar</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Object-Serialization.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:对象序列化</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Object-Serialization.html#%E6%9F%A5%E6%89%BE%E7%B1%BB" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>查找类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Object-Serialization.html#%E6%8E%A7%E5%88%B6%E5%BA%8F%E5%88%97%E5%8C%96" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>控制序列化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Object-Serialization.html#%E4%BD%BF%E7%94%A8%E6%8C%81%E4%B9%85%E5%8C%96" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用持久化</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:静态语言类型检查</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html#%E5%89%8D%E8%A8%80" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>前言</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html#%E9%9D%99%E6%80%81%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%92%8C%E6%B5%8B%E8%AF%95" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>静态类型检查和测试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html#%E5%A6%82%E4%BD%95%E6%8F%90%E5%8D%87%E6%89%93%E5%AD%97" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何提升打字</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html#%E7%94%9F%E4%BA%A7%E5%8A%9B%E7%9A%84%E6%88%90%E6%9C%AC" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>生产力的成本</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html#%E9%9D%99%E6%80%81%E5%92%8C%E5%8A%A8%E6%80%81" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>静态和动态</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0" data-v-ee2efba5 data-v-bd01e0d5><!----><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-The-Positive-Legacy-of-C-plus-plus-and-Java.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>附录:C++和Java的优良传统</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 is-link" data-v-ee2efba5 data-v-bd01e0d5><div class="item" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Becoming-a-Programmer.html" data-v-bd01e0d5><!--[--><h2 class="text" data-v-bd01e0d5>附录:成为一名程序员</h2><!--]--></a><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Becoming-a-Programmer.html#%E5%A6%82%E4%BD%95%E5%BC%80%E5%A7%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何开始</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Becoming-a-Programmer.html#%E7%A0%81%E5%86%9C%E7%94%9F%E6%B6%AF" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>码农生涯</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Becoming-a-Programmer.html#%E7%99%BE%E5%88%86%E4%B9%8B%E4%BA%94%E7%9A%84%E7%A5%9E%E8%AF%9D" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>百分之五的神话</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Becoming-a-Programmer.html#%E9%87%8D%E5%9C%A8%E5%8A%A8%E6%89%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>重在动手</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Becoming-a-Programmer.html#%E5%83%8F%E6%89%93%E5%AD%97%E8%88%AC%E7%BC%96%E7%A8%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>像打字般编程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/Appendix-Becoming-a-Programmer.html#%E5%81%9A%E4%BD%A0%E5%96%9C%E6%AC%A2%E7%9A%84%E4%BA%8B" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>做你喜欢的事</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0" data-v-ee2efba5 data-v-bd01e0d5><!----><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/book/GLOSSARY.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>词汇表</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-9d8abc1e data-v-3cf691b6><div class="VPDoc has-sidebar has-aside" data-v-3cf691b6 data-v-a3c25e27><!--[--><!--]--><div class="container" data-v-a3c25e27><div class="aside" data-v-a3c25e27><div class="aside-curtain" data-v-a3c25e27></div><div class="aside-container" data-v-a3c25e27><div class="aside-content" data-v-a3c25e27><div class="VPDocAside" data-v-a3c25e27 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-3a6c4994><div class="content" data-v-3a6c4994><div class="outline-marker" data-v-3a6c4994></div><div class="outline-title" role="heading" aria-level="2" data-v-3a6c4994>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-3a6c4994><span class="visually-hidden" id="doc-outline-aria-label" data-v-3a6c4994> Table of Contents for current page </span><ul class="root" data-v-3a6c4994 data-v-463da30f><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a3c25e27><div class="content-container" data-v-a3c25e27><!--[--><!--]--><!----><main class="main" data-v-a3c25e27><div style="position:relative;" class="vp-doc _book_Appendix-Understanding-equals-and-hashCode" data-v-a3c25e27><div><p>[TOC]</p><h1 id="附录-理解equals和hashcode方法" tabindex="-1">附录:理解equals和hashCode方法 <a class="header-anchor" href="#附录-理解equals和hashcode方法" aria-label="Permalink to &quot;附录:理解equals和hashCode方法&quot;">​</a></h1><p>假设有一个容器使用hash函数，当你创建一个放到这个容器时，你必须定义 <strong>hashCode()</strong> 函数和 <strong>equals()</strong> 函数。这两个函数一起被用于hash容器中的查询操作。</p><h2 id="equals规范" tabindex="-1">equals规范 <a class="header-anchor" href="#equals规范" aria-label="Permalink to &quot;equals规范&quot;">​</a></h2><p>当你创建一个类的时候，它自动继承自 <strong>Objcet</strong> 类。如果你不覆写 <strong>equals()</strong> ，你将会获得 <strong>Objcet</strong> 对象的 <strong>equals()</strong> 函数。默认情况下，这个函数会比较对象的地址。所以只有你在比较同一个对象的时候，你才会获得<strong>true</strong>。默认的情况是&quot;区分度最高的&quot;。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/DefaultComparison.java</span></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DefaultComparison</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> i, j, k;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">DefaultComparison</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">i</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">j</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">k</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> i;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.j </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> j;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.k </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> k;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        DefaultComparison </span></span>
<span class="line"><span style="color:#E1E4E8;">        a </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DefaultComparison</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">        b </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DefaultComparison</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(a </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> a);</span></span>
<span class="line"><span style="color:#E1E4E8;">        System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(a </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> b);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">} </span></span>
<span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">Output:</span></span>
<span class="line"><span style="color:#6A737D;">true</span></span>
<span class="line"><span style="color:#6A737D;">false</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/DefaultComparison.java</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DefaultComparison</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> i, j, k;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">DefaultComparison</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">i</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">j</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">k</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> i;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.j </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> j;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.k </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> k;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        DefaultComparison </span></span>
<span class="line"><span style="color:#24292E;">        a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DefaultComparison</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">        b </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DefaultComparison</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(a </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> a);</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(a </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> b);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">} </span></span>
<span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">Output:</span></span>
<span class="line"><span style="color:#6A737D;">true</span></span>
<span class="line"><span style="color:#6A737D;">false</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>通常你会希望放宽这个限制。一般来说如果两个对象有相同的类型和相同的字段，你会认为这两个对象相等，但也会有一些你不想加入 <strong>equals()</strong> 函数中来比较的字段。这是类型设计的一部分。</p><p>一个合适的 **equals()**函数必须满足以下五点条件：</p><ol><li>反身性：对于任何 <strong>x</strong>， <strong>x.equals(x)</strong> 应该返回 <strong>true</strong>。</li><li>对称性：对于任何 <strong>x</strong> 和 <strong>y</strong>， <strong>x.equals(y)</strong> 应该返回 <strong>true</strong>当且仅当 <strong>y.equals(x)</strong> 返回 <strong>true</strong> 。</li><li>传递性：对于任何<strong>x</strong>,<strong>y</strong>,还有<strong>z</strong>，如果 <strong>x.equals(y)</strong> 返回 <strong>true</strong> 并且 <strong>y.equals(z)</strong> 返回 <strong>true</strong>，那么 <strong>x.equals(z)</strong> 应该返回 <strong>true</strong>。</li><li>一致性：对于任何 <strong>x</strong>和<strong>y</strong>，在对象没有被改变的情况下，多次调用 <strong>x.equals(y)</strong> 应该总是返回 <strong>true</strong> 或者<strong>false</strong>。</li><li>对于任何非<strong>null</strong>的<strong>x</strong>，<strong>x.equals(null)<strong>应该返回</strong>false</strong>。</li></ol><p>下面是满足这些条件的测试，并且判断对象是否和自己相等（我们这里称呼其为<strong>右值</strong>）：</p><ol><li>如果<strong>右值</strong>是<strong>null</strong>，那么不相等。</li><li>如果<strong>右值</strong>是<strong>this</strong>，那么两个对象相等。</li><li>如果<strong>右值</strong>不是同一个类型或者子类，那么两个对象不相等。</li><li>如果所有上面的检查通过了，那么你必须决定 <strong>右值</strong> 中的哪些字段是重要的，然后比较这些字段。 Java 7 引入了 <strong>Objects</strong> 类型来帮助这个流程，这样我们能够写出更好的 <strong>equals()</strong> 函数。</li></ol><p>下面的例子比较了不同类型的 <strong>Equality</strong>类。为了避免重复的代码，我们使用<em>工厂函数设计模</em>式来实现样例。 <strong>EqualityFactory</strong>接口提供<strong>make()<strong>函数来生成一个</strong>Equaity</strong>对象，这样不同的<strong>EqualityFactory</strong>能够生成<strong>Equality</strong>不同的子类。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/EqualityFactory.java</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">EqualityFactory</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    Equality </span><span style="color:#B392F0;">make</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">i</span><span style="color:#E1E4E8;">, String </span><span style="color:#FFAB70;">s</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">d</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/EqualityFactory.java</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">EqualityFactory</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    Equality </span><span style="color:#6F42C1;">make</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">i</span><span style="color:#24292E;">, String </span><span style="color:#E36209;">s</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">double</span><span style="color:#24292E;"> </span><span style="color:#E36209;">d</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>现在我们来定义 <strong>Equality</strong>，它包含三个字段（所有的字段我们认为在比较中都很重要）和一个 <strong>equals()</strong> 函数用来满足上述的四种检查。构造函数展示了它的类名来保证我们在执行我们想要的测试：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark has-diff vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/Equality.java</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Equality</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> i;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> String s;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;"> d;public </span><span style="color:#B392F0;">Equality</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">i</span><span style="color:#E1E4E8;">, String </span><span style="color:#FFAB70;">s</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">d</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> i;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.s </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> s;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.d </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> d;</span></span>
<span class="line"><span style="color:#E1E4E8;">        System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;made &#39;Equality&#39;&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">rval</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(rval </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(rval </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">(rval </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> Equality))</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Equality other </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (Equality)rval;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(i, other.i))</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(s, other.s))</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(d, other.d))</span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">descr</span><span style="color:#E1E4E8;">, String </span><span style="color:#FFAB70;">expected</span><span style="color:#E1E4E8;">, Object </span><span style="color:#FFAB70;">rval</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        System.out.</span><span style="color:#B392F0;">format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;-- Testing %s --%n&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;%s instanceof Equality: %s%n&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;Expected %s, got %s%n&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        descr, descr, rval </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> Equality,</span></span>
<span class="line"><span style="color:#E1E4E8;">        expected, </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(rval));</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">testAll</span><span style="color:#E1E4E8;">(EqualityFactory </span><span style="color:#FFAB70;">eqf</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        Equality</span></span>
<span class="line"><span style="color:#E1E4E8;">        e </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> eqf.</span><span style="color:#B392F0;">make</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;Monty&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3.14</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">        eq </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> eqf.</span><span style="color:#B392F0;">make</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;Monty&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3.14</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">        neq </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> eqf.</span><span style="color:#B392F0;">make</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">99</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;Bob&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">1.618</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        e.</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;null&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;false&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        e.</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;same object&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;true&quot;</span><span style="color:#E1E4E8;">, e);</span></span>
<span class="line"><span style="color:#E1E4E8;">        e.</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;different type&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;false&quot;</span><span style="color:#E1E4E8;">, Integer.</span><span style="color:#B392F0;">valueOf</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">99</span><span style="color:#E1E4E8;">));e.</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;same values&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;true&quot;</span><span style="color:#E1E4E8;">, eq);</span></span>
<span class="line"><span style="color:#E1E4E8;">        e.</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;different values&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;false&quot;</span><span style="color:#E1E4E8;">, neq);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">testAll</span><span style="color:#E1E4E8;">( (i, s, d) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Equality</span><span style="color:#E1E4E8;">(i, s, d));</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">} </span></span>
<span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">Output:</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing null --</span></span>
<span class="line"><span style="color:#6A737D;">null instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing same object --</span></span>
<span class="line"><span style="color:#6A737D;">same object instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different type --</span></span>
<span class="line"><span style="color:#6A737D;">different type instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false-- Testing same values --</span></span>
<span class="line"><span style="color:#6A737D;">same values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different values --</span></span>
<span class="line"><span style="color:#6A737D;">different values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light has-diff vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/Equality.java</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Equality</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> i;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> String s;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">double</span><span style="color:#24292E;"> d;public </span><span style="color:#6F42C1;">Equality</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">i</span><span style="color:#24292E;">, String </span><span style="color:#E36209;">s</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">double</span><span style="color:#24292E;"> </span><span style="color:#E36209;">d</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> i;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.s </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> s;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.d </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> d;</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;made &#39;Equality&#39;&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">rval</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(rval </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(rval </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">(rval </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> Equality))</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        Equality other </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (Equality)rval;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(i, other.i))</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(s, other.s))</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(d, other.d))</span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">descr</span><span style="color:#24292E;">, String </span><span style="color:#E36209;">expected</span><span style="color:#24292E;">, Object </span><span style="color:#E36209;">rval</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;-- Testing %s --%n&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;%s instanceof Equality: %s%n&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;Expected %s, got %s%n&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        descr, descr, rval </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> Equality,</span></span>
<span class="line"><span style="color:#24292E;">        expected, </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(rval));</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testAll</span><span style="color:#24292E;">(EqualityFactory </span><span style="color:#E36209;">eqf</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        Equality</span></span>
<span class="line"><span style="color:#24292E;">        e </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> eqf.</span><span style="color:#6F42C1;">make</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;Monty&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3.14</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">        eq </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> eqf.</span><span style="color:#6F42C1;">make</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;Monty&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3.14</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">        neq </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> eqf.</span><span style="color:#6F42C1;">make</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">99</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;Bob&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">1.618</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        e.</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;null&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;false&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        e.</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;same object&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;true&quot;</span><span style="color:#24292E;">, e);</span></span>
<span class="line"><span style="color:#24292E;">        e.</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;different type&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;false&quot;</span><span style="color:#24292E;">, Integer.</span><span style="color:#6F42C1;">valueOf</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">99</span><span style="color:#24292E;">));e.</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;same values&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;true&quot;</span><span style="color:#24292E;">, eq);</span></span>
<span class="line"><span style="color:#24292E;">        e.</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;different values&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;false&quot;</span><span style="color:#24292E;">, neq);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">testAll</span><span style="color:#24292E;">( (i, s, d) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Equality</span><span style="color:#24292E;">(i, s, d));</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">} </span></span>
<span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">Output:</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing null --</span></span>
<span class="line"><span style="color:#6A737D;">null instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing same object --</span></span>
<span class="line"><span style="color:#6A737D;">same object instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different type --</span></span>
<span class="line"><span style="color:#6A737D;">different type instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false-- Testing same values --</span></span>
<span class="line"><span style="color:#6A737D;">same values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different values --</span></span>
<span class="line"><span style="color:#6A737D;">different values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p><strong>testAll()</strong> 执行了我们期望的所有不同类型对象的比较。它使用工厂创建了<strong>Equality</strong>对象。</p><p>在 <strong>main()</strong> 里，请注意对 <strong>testAll()</strong> 的调用很简单。因为<strong>EqualityFactory</strong>有着单一的函数，它能够和lambda表达式一起使用来表示**make()**函数。</p><p>上述的 <strong>equals()</strong> 函数非常繁琐，并且我们能够将其简化成规范的形式，请注意：</p><ol><li><strong>instanceof</strong>检查减少了<strong>null</strong>检查的需要。</li><li>和<strong>this</strong>的比较是多余的。一个正确书写的 <strong>equals()</strong> 函数能正确地和自己比较。</li></ol><p>因为 <strong>&amp;&amp;</strong> 是一个短路比较，它会在第一次遇到失败的时候退出并返回<strong>false</strong>。所以，通过使用 <strong>&amp;&amp;</strong> 将检查链接起来，我们可以写出更精简的 <strong>equals()</strong> 函数：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark has-diff vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SuccinctEquality.java</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SuccinctEquality</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Equality</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SuccinctEquality</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">i</span><span style="color:#E1E4E8;">, String </span><span style="color:#FFAB70;">s</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">d</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">(i, s, d);</span></span>
<span class="line"><span style="color:#E1E4E8;">        System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;made &#39;SuccinctEquality&#39;&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">rval</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> rval </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> SuccinctEquality </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(i, ((SuccinctEquality)rval).i) </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(s, ((SuccinctEquality)rval).s) </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(d, ((SuccinctEquality)rval).d);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        Equality.</span><span style="color:#B392F0;">testAll</span><span style="color:#E1E4E8;">( (i, s, d) </span><span style="color:#F97583;">-&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SuccinctEquality</span><span style="color:#E1E4E8;">(i, s, d));</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing null --</span></span>
<span class="line"><span style="color:#6A737D;">null instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing same object --</span></span>
<span class="line"><span style="color:#6A737D;">same object instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different type --</span></span>
<span class="line"><span style="color:#6A737D;">different type instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing same values --</span></span>
<span class="line"><span style="color:#6A737D;">same values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different values --different values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light has-diff vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SuccinctEquality.java</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SuccinctEquality</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Equality</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SuccinctEquality</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">i</span><span style="color:#24292E;">, String </span><span style="color:#E36209;">s</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">double</span><span style="color:#24292E;"> </span><span style="color:#E36209;">d</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(i, s, d);</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;made &#39;SuccinctEquality&#39;&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">rval</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> rval </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> SuccinctEquality </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">        Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(i, ((SuccinctEquality)rval).i) </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">        Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(s, ((SuccinctEquality)rval).s) </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">        Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(d, ((SuccinctEquality)rval).d);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        Equality.</span><span style="color:#6F42C1;">testAll</span><span style="color:#24292E;">( (i, s, d) </span><span style="color:#D73A49;">-&gt;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SuccinctEquality</span><span style="color:#24292E;">(i, s, d));</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing null --</span></span>
<span class="line"><span style="color:#6A737D;">null instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing same object --</span></span>
<span class="line"><span style="color:#6A737D;">same object instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different type --</span></span>
<span class="line"><span style="color:#6A737D;">different type instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing same values --</span></span>
<span class="line"><span style="color:#6A737D;">same values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different values --different values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>对于每个 <strong>SuccinctEquality</strong>，基类构造函数在派生类构造函数前被调用，输出显示我们依然获得了正确的结果，你可以发现短路返回已经发生了，不然的话，<strong>null</strong>测试和“不同类型”的测试会在 <strong>equals()</strong> 函数下面的比较中强制转化的时候抛出异常。 <strong>Objects.equals()</strong> 会在你组合其他类型的时候发挥很大的作用。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark has-diff vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/ComposedEquality.java</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Part</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    String ss;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;"> dd;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Part</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">ss</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">dd</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.ss </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ss;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.dd </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> dd;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">rval</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> rval </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> Part </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(ss, ((Part)rval).ss) </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(dd, ((Part)rval).dd);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">} </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ComposedEquality</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SuccinctEquality</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    Part part;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ComposedEquality</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">i</span><span style="color:#E1E4E8;">, String </span><span style="color:#FFAB70;">s</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">d</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">(i, s, d);</span></span>
<span class="line"><span style="color:#E1E4E8;">        part </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Part</span><span style="color:#E1E4E8;">(s, d);</span></span>
<span class="line"><span style="color:#E1E4E8;">        System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;made &#39;ComposedEquality&#39;&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">rval</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> rval </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> ComposedEquality </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(rval) </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(part,</span></span>
<span class="line"><span style="color:#E1E4E8;">        ((ComposedEquality)rval).part);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">        </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        Equality.</span><span style="color:#B392F0;">testAll</span><span style="color:#E1E4E8;">( (i, s, d) </span><span style="color:#F97583;">-&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ComposedEquality</span><span style="color:#E1E4E8;">(i, s, d));</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">Output:</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;ComposedEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;ComposedEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;ComposedEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing null --null instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing same object --</span></span>
<span class="line"><span style="color:#6A737D;">same object instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different type --</span></span>
<span class="line"><span style="color:#6A737D;">different type instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing same values --</span></span>
<span class="line"><span style="color:#6A737D;">same values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different values --</span></span>
<span class="line"><span style="color:#6A737D;">different values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light has-diff vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/ComposedEquality.java</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Part</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    String ss;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">double</span><span style="color:#24292E;"> dd;</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Part</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">ss</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">double</span><span style="color:#24292E;"> </span><span style="color:#E36209;">dd</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ss </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ss;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.dd </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> dd;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">rval</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> rval </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> Part </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">        Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(ss, ((Part)rval).ss) </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">        Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(dd, ((Part)rval).dd);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">} </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ComposedEquality</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SuccinctEquality</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    Part part;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ComposedEquality</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">i</span><span style="color:#24292E;">, String </span><span style="color:#E36209;">s</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">double</span><span style="color:#24292E;"> </span><span style="color:#E36209;">d</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(i, s, d);</span></span>
<span class="line"><span style="color:#24292E;">        part </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Part</span><span style="color:#24292E;">(s, d);</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;made &#39;ComposedEquality&#39;&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">rval</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> rval </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> ComposedEquality </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(rval) </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">        Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(part,</span></span>
<span class="line"><span style="color:#24292E;">        ((ComposedEquality)rval).part);</span></span>
<span class="line"><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        Equality.</span><span style="color:#6F42C1;">testAll</span><span style="color:#24292E;">( (i, s, d) </span><span style="color:#D73A49;">-&gt;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ComposedEquality</span><span style="color:#24292E;">(i, s, d));</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">Output:</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;ComposedEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;ComposedEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;Equality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;SuccinctEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">made &#39;ComposedEquality&#39;</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing null --null instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing same object --</span></span>
<span class="line"><span style="color:#6A737D;">same object instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different type --</span></span>
<span class="line"><span style="color:#6A737D;">different type instanceof Equality: false</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing same values --</span></span>
<span class="line"><span style="color:#6A737D;">same values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected true, got true</span></span>
<span class="line"><span style="color:#6A737D;">-- Testing different values --</span></span>
<span class="line"><span style="color:#6A737D;">different values instanceof Equality: true</span></span>
<span class="line"><span style="color:#6A737D;">Expected false, got false</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>注意super.equals()这个调用，没有必要重新发明它（因为你不总是有权限访问基类所有的必要字段）</p><h3 id="不同子类的相等性" tabindex="-1">不同子类的相等性 <a class="header-anchor" href="#不同子类的相等性" aria-label="Permalink to &quot;不同子类的相等性&quot;">​</a></h3><p>继承意味着两个不同子类的对象当其向上转型的时候可以是相等的。假设你有一个Animal对象的集合。这个集合天然接受<strong>Animal</strong>的子类。在这个例子中是<strong>Dog</strong>和<strong>Pig</strong>。每个<strong>Animal</strong>有一个<strong>name</strong>和<strong>size</strong>，还有唯一的内部<strong>id</strong>数字。</p><p>我们通过<strong>Objects</strong>类，以规范的形式定义 <strong>equals()<strong>函数和</strong>hashCode()</strong>。但是我们只能在基类<strong>Animal</strong>中定义他们。并且我们在这两个函数中没有包含<strong>id</strong>字段。从<strong>equals()<strong>函数的角度看待，这意味着我们只关心它是否是</strong>Animal</strong>，而不关心是否是<strong>Animal</strong>的某个子类。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SubtypeEquality.java</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">enum</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Size</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">SMALL</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">MEDIUM</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">LARGE</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Animal</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> counter </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">final</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> counter</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">final</span><span style="color:#E1E4E8;"> String name;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">final</span><span style="color:#E1E4E8;"> Size size;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Animal</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">, Size </span><span style="color:#FFAB70;">size</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.name </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> name;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.size </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> size;</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">rval</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> rval </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> Animal </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// Objects.equals(id, ((Animal)rval).id) &amp;&amp; // [1]</span></span>
<span class="line"><span style="color:#E1E4E8;">        Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(name, ((Animal)rval).name) </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(size, ((Animal)rval).size);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Objects.</span><span style="color:#B392F0;">hash</span><span style="color:#E1E4E8;">(name, size);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// return Objects.hash(name, size, id); // [2]</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> String </span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> String.</span><span style="color:#B392F0;">format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%s[%d]: %s %s %x&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">getClass</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">getSimpleName</span><span style="color:#E1E4E8;">(), id,</span></span>
<span class="line"><span style="color:#E1E4E8;">        name, size, </span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">} </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Dog</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Animal</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Dog</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">, Size </span><span style="color:#FFAB70;">size</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">(name, size);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">} </span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Pig</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Animal</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Pig</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">, Size </span><span style="color:#FFAB70;">size</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">(name, size);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">} </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SubtypeEquality</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        Set&lt;</span><span style="color:#F97583;">Animal</span><span style="color:#E1E4E8;">&gt; pets </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> HashSet&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">        pets.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Dog</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Ralph&quot;</span><span style="color:#E1E4E8;">, Size.MEDIUM));</span></span>
<span class="line"><span style="color:#E1E4E8;">        pets.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Pig</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Ralph&quot;</span><span style="color:#E1E4E8;">, Size.MEDIUM));</span></span>
<span class="line"><span style="color:#E1E4E8;">        pets.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">(System.out</span><span style="color:#F97583;">::</span><span style="color:#E1E4E8;">println);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">} </span></span>
<span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">Output:</span></span>
<span class="line"><span style="color:#6A737D;">Dog[0]: Ralph MEDIUM a752aeee</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SubtypeEquality.java</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">enum</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Size</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">SMALL</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">MEDIUM</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">LARGE</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> counter </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">final</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> counter</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">final</span><span style="color:#24292E;"> String name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">final</span><span style="color:#24292E;"> Size size;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">name</span><span style="color:#24292E;">, Size </span><span style="color:#E36209;">size</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> name;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.size </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> size;</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">rval</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> rval </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> Animal </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// Objects.equals(id, ((Animal)rval).id) &amp;&amp; // [1]</span></span>
<span class="line"><span style="color:#24292E;">        Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(name, ((Animal)rval).name) </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">        Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(size, ((Animal)rval).size);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Objects.</span><span style="color:#6F42C1;">hash</span><span style="color:#24292E;">(name, size);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// return Objects.hash(name, size, id); // [2]</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> String </span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> String.</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%s[%d]: %s %s %x&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">getClass</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">getSimpleName</span><span style="color:#24292E;">(), id,</span></span>
<span class="line"><span style="color:#24292E;">        name, size, </span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">} </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">name</span><span style="color:#24292E;">, Size </span><span style="color:#E36209;">size</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(name, size);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">} </span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Pig</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Pig</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">name</span><span style="color:#24292E;">, Size </span><span style="color:#E36209;">size</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(name, size);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">} </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SubtypeEquality</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        Set&lt;</span><span style="color:#D73A49;">Animal</span><span style="color:#24292E;">&gt; pets </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> HashSet&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">        pets.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Ralph&quot;</span><span style="color:#24292E;">, Size.MEDIUM));</span></span>
<span class="line"><span style="color:#24292E;">        pets.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Pig</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Ralph&quot;</span><span style="color:#24292E;">, Size.MEDIUM));</span></span>
<span class="line"><span style="color:#24292E;">        pets.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">} </span></span>
<span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">Output:</span></span>
<span class="line"><span style="color:#6A737D;">Dog[0]: Ralph MEDIUM a752aeee</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>如果我们只考虑类型的话，某些情况下它的确说得通——只从基类的角度看待问题，这是李氏替换原则的基石。这个代码完美符合替换理论因为派生类没有添加任何额外不再基类中的额外函数。派生类只是在表现上不同，而不是在接口上。（当然这不是常态）</p><p>但是当我们提供了两个有着相同数据的不同的对象类型，然后将他们放置在 <strong>HashSet&lt; Animal &gt;</strong> 中。只有他们中的一个能存活。这强调了 <strong>equals()</strong> 不是完美的数学理论，而只是机械般的理论。 <strong>hashCode()</strong> 和 <strong>equals()</strong> 必须能够允许类型在hash数据结构中正常工作。例子中 <strong>Dog</strong> 和 <strong>Pig</strong> 会被映射到同 <strong>HashSet</strong> 的同一个桶中。这个时候，<strong>HashSet</strong> 回退到 <strong>equals()</strong> 来区分对象，但是 <strong>equals()</strong> 也认为两个对象是相同的。<strong>HashSet</strong>因为已经有一个相同的对象了，所以没有添加 <strong>Pig</strong>。 我们依然能够通过使得其他字段对象不同来让例子能够正常工作。在这里每个 <strong>Animal</strong> 已经有了一个独一无二的 <strong>id</strong> ，所以你能够取消 <strong>equals()</strong> 函数中的 <strong>[1]</strong> 行注释，或者取消 <strong>hashCode()</strong> 函数中的 <strong>[2]</strong> 行注释。按照规范，你应该同时完成这两个操作，如此能够将所有“不变的”字段包含在两个操作中（“不变”所以 <strong>equals()</strong> 和 <strong>hashCode()</strong> 在哈希数据结构中的排序和取值时，不会生成不同的值。我将“不变的”放在引号中因为你必须计算出是否已经发生变化）。</p><blockquote><p><strong>旁注</strong>： 在<strong>hashCode()<strong>中，如果你只能够使用一个字段，使用</strong>Objcets.hashCode()</strong>。如果你使用多个字段，那么使用 <strong>Objects.hash()</strong>。</p></blockquote><p>我们也可以通过标准方式，将 <strong>equals()</strong> 定义在子类中（不包含 <strong>id</strong> ）解决这个问题：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SubtypeEquality2.java</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Dog2</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Animal</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Dog2</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">, Size </span><span style="color:#FFAB70;">size</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">(name, size);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">rval</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> rval </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> Dog2 </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(rval);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">} </span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Pig2</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Animal</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Pig2</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">, Size </span><span style="color:#FFAB70;">size</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">(name, size);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">rval</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> rval </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> Pig2 </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(rval);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SubtypeEquality2</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        Set&lt;</span><span style="color:#F97583;">Animal</span><span style="color:#E1E4E8;">&gt; pets </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> HashSet&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">        pets.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Dog2</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Ralph&quot;</span><span style="color:#E1E4E8;">, Size.MEDIUM));</span></span>
<span class="line"><span style="color:#E1E4E8;">        pets.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Pig2</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Ralph&quot;</span><span style="color:#E1E4E8;">, Size.MEDIUM));</span></span>
<span class="line"><span style="color:#E1E4E8;">        pets.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">(System.out</span><span style="color:#F97583;">::</span><span style="color:#E1E4E8;">println);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span></span>
<span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">Output:</span></span>
<span class="line"><span style="color:#6A737D;">Dog2[0]: Ralph MEDIUM a752aeee</span></span>
<span class="line"><span style="color:#6A737D;">Pig2[1]: Ralph MEDIUM a752aeee</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SubtypeEquality2.java</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog2</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Dog2</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">name</span><span style="color:#24292E;">, Size </span><span style="color:#E36209;">size</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(name, size);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">rval</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> rval </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> Dog2 </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#005CC5;">super</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(rval);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">} </span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Pig2</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Pig2</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">name</span><span style="color:#24292E;">, Size </span><span style="color:#E36209;">size</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(name, size);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">rval</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> rval </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> Pig2 </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(rval);</span></span>
<span class="line"><span style="color:#24292E;">    } </span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SubtypeEquality2</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        Set&lt;</span><span style="color:#D73A49;">Animal</span><span style="color:#24292E;">&gt; pets </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> HashSet&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">        pets.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog2</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Ralph&quot;</span><span style="color:#24292E;">, Size.MEDIUM));</span></span>
<span class="line"><span style="color:#24292E;">        pets.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Pig2</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Ralph&quot;</span><span style="color:#24292E;">, Size.MEDIUM));</span></span>
<span class="line"><span style="color:#24292E;">        pets.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">} </span></span>
<span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">Output:</span></span>
<span class="line"><span style="color:#6A737D;">Dog2[0]: Ralph MEDIUM a752aeee</span></span>
<span class="line"><span style="color:#6A737D;">Pig2[1]: Ralph MEDIUM a752aeee</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>注意 <strong>hashCode()</strong> 是独一无二的，但是因为对象不再 <strong>equals()</strong> ，所以两个函数都出现在<strong>HashSet</strong>中。另外，<strong>super.equals()</strong> 意味着我们不需要访问基类的<strong>private</strong>字段。</p><p>一种说法是Java从<strong>equals()</strong> 和<strong>hashCode()</strong> 的定义中分离了可替代性。我们仍然能够将<strong>Dog</strong>和<strong>Pig</strong>放置在 <strong>Set&lt;Animal&gt;</strong> 中，无论 <strong>equals()</strong> 和 <strong>hashCode()</strong> 是如何定义的，但是对象不会在哈希数据结构中正常工作，除非这些函数能够被合理定义。不幸的是，<strong>equals()</strong> 不总是和 <strong>hashCode()</strong> 一起使用，这在你尝试为了某个特殊类型避免定义它的时候会让问题复杂化。并且这也是为什么遵循规范是有价值的。然而这会变得更加复杂，因为你不总是需要定义其中一个函数。</p><h2 id="哈希和哈希码" tabindex="-1">哈希和哈希码 <a class="header-anchor" href="#哈希和哈希码" aria-label="Permalink to &quot;哈希和哈希码&quot;">​</a></h2><p>在 <a href="./.html">集合</a> 章节中，我们使用预先定义的类作为 HashMap 的键。这些示例之所以有用，是因为预定义的类具有所有必需的连线，以使它们正确地充当键。</p><p>当创建自己的类作为HashMap的键时，会发生一个常见的陷阱，从而忘记进行必要的接线。例如，考虑一个将Earthhog 对象与 Prediction 对象匹配的天气预报系统。这似乎很简单：使用Groundhog作为键，使用Prediction作为值：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/Groundhog.java</span></span>
<span class="line"><span style="color:#6A737D;">// Looks plausible, but doesn&#39;t work as a HashMap key</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Groundhog</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> number;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Groundhog</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">n</span><span style="color:#E1E4E8;">) { number </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> n; }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> String </span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Groundhog #&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> number;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/Groundhog.java</span></span>
<span class="line"><span style="color:#6A737D;">// Looks plausible, but doesn&#39;t work as a HashMap key</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Groundhog</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> number;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Groundhog</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">n</span><span style="color:#24292E;">) { number </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> n; }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> String </span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Groundhog #&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> number;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/Prediction.java</span></span>
<span class="line"><span style="color:#6A737D;">// Predicting the weather</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Prediction</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> Random rand </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Random</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">47</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> String </span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> rand.</span><span style="color:#B392F0;">nextBoolean</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">?</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&quot;Six more weeks of Winter!&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Early Spring!&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/Prediction.java</span></span>
<span class="line"><span style="color:#6A737D;">// Predicting the weather</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Prediction</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> Random rand </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Random</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">47</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> String </span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> rand.</span><span style="color:#6F42C1;">nextBoolean</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">?</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&quot;Six more weeks of Winter!&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Early Spring!&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SpringDetector.java</span></span>
<span class="line"><span style="color:#6A737D;">// What will the weather be?</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.stream.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.function.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.lang.reflect.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SpringDetector</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#F97583;">T</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">Groundhog</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">detectSpring</span><span style="color:#E1E4E8;">(Class&lt;</span><span style="color:#F97583;">T</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#FFAB70;">type</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            Constructor&lt;</span><span style="color:#F97583;">T</span><span style="color:#E1E4E8;">&gt; ghog </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#E1E4E8;">                    type.</span><span style="color:#B392F0;">getConstructor</span><span style="color:#E1E4E8;">(int.class);</span></span>
<span class="line"><span style="color:#E1E4E8;">            Map&lt;</span><span style="color:#F97583;">Groundhog</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">Prediction</span><span style="color:#E1E4E8;">&gt; map </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#E1E4E8;">                    IntStream.</span><span style="color:#B392F0;">range</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">                            .</span><span style="color:#B392F0;">mapToObj</span><span style="color:#E1E4E8;">(i </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">                                </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">                                    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> ghog.</span><span style="color:#B392F0;">newInstance</span><span style="color:#E1E4E8;">(i);</span></span>
<span class="line"><span style="color:#E1E4E8;">                                } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;">(Exception </span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">                                    </span><span style="color:#F97583;">throw</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RuntimeException</span><span style="color:#E1E4E8;">(e);</span></span>
<span class="line"><span style="color:#E1E4E8;">                                }</span></span>
<span class="line"><span style="color:#E1E4E8;">                            })</span></span>
<span class="line"><span style="color:#E1E4E8;">                            .</span><span style="color:#B392F0;">collect</span><span style="color:#E1E4E8;">(Collectors.</span><span style="color:#B392F0;">toMap</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">                                    Function.</span><span style="color:#B392F0;">identity</span><span style="color:#E1E4E8;">(),</span></span>
<span class="line"><span style="color:#E1E4E8;">                                    gh </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Prediction</span><span style="color:#E1E4E8;">()));</span></span>
<span class="line"><span style="color:#E1E4E8;">            map.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((k, v) </span><span style="color:#F97583;">-&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                    System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(k </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;: &quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> v));</span></span>
<span class="line"><span style="color:#E1E4E8;">            Groundhog gh </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ghog.</span><span style="color:#B392F0;">newInstance</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">            System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">                    </span><span style="color:#9ECBFF;">&quot;Looking up prediction for &quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> gh);</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(map.</span><span style="color:#B392F0;">containsKey</span><span style="color:#E1E4E8;">(gh))</span></span>
<span class="line"><span style="color:#E1E4E8;">                System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(map.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(gh));</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">else</span></span>
<span class="line"><span style="color:#E1E4E8;">                System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Key not found: &quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> gh);</span></span>
<span class="line"><span style="color:#E1E4E8;">        } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;">(NoSuchMethodException |</span></span>
<span class="line"><span style="color:#E1E4E8;">                IllegalAccessException |</span></span>
<span class="line"><span style="color:#E1E4E8;">                InvocationTargetException |</span></span>
<span class="line"><span style="color:#E1E4E8;">                InstantiationException </span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">throw</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RuntimeException</span><span style="color:#E1E4E8;">(e);</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">detectSpring</span><span style="color:#E1E4E8;">(Groundhog.class);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #3: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #0: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #8: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #6: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #4: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #2: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #1: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #9: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #5: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #7: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Looking up prediction for Groundhog #3</span></span>
<span class="line"><span style="color:#6A737D;">Key not found: Groundhog #3</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SpringDetector.java</span></span>
<span class="line"><span style="color:#6A737D;">// What will the weather be?</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.stream.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.function.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.lang.reflect.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SpringDetector</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> &lt;</span><span style="color:#D73A49;">T</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">Groundhog</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">detectSpring</span><span style="color:#24292E;">(Class&lt;</span><span style="color:#D73A49;">T</span><span style="color:#24292E;">&gt; </span><span style="color:#E36209;">type</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            Constructor&lt;</span><span style="color:#D73A49;">T</span><span style="color:#24292E;">&gt; ghog </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">                    type.</span><span style="color:#6F42C1;">getConstructor</span><span style="color:#24292E;">(int.class);</span></span>
<span class="line"><span style="color:#24292E;">            Map&lt;</span><span style="color:#D73A49;">Groundhog</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">Prediction</span><span style="color:#24292E;">&gt; map </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">                    IntStream.</span><span style="color:#6F42C1;">range</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">                            .</span><span style="color:#6F42C1;">mapToObj</span><span style="color:#24292E;">(i </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">                                </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">                                    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> ghog.</span><span style="color:#6F42C1;">newInstance</span><span style="color:#24292E;">(i);</span></span>
<span class="line"><span style="color:#24292E;">                                } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;">(Exception </span><span style="color:#E36209;">e</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">                                    </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RuntimeException</span><span style="color:#24292E;">(e);</span></span>
<span class="line"><span style="color:#24292E;">                                }</span></span>
<span class="line"><span style="color:#24292E;">                            })</span></span>
<span class="line"><span style="color:#24292E;">                            .</span><span style="color:#6F42C1;">collect</span><span style="color:#24292E;">(Collectors.</span><span style="color:#6F42C1;">toMap</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">                                    Function.</span><span style="color:#6F42C1;">identity</span><span style="color:#24292E;">(),</span></span>
<span class="line"><span style="color:#24292E;">                                    gh </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Prediction</span><span style="color:#24292E;">()));</span></span>
<span class="line"><span style="color:#24292E;">            map.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((k, v) </span><span style="color:#D73A49;">-&gt;</span></span>
<span class="line"><span style="color:#24292E;">                    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(k </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;: &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> v));</span></span>
<span class="line"><span style="color:#24292E;">            Groundhog gh </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ghog.</span><span style="color:#6F42C1;">newInstance</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">            System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">                    </span><span style="color:#032F62;">&quot;Looking up prediction for &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> gh);</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(map.</span><span style="color:#6F42C1;">containsKey</span><span style="color:#24292E;">(gh))</span></span>
<span class="line"><span style="color:#24292E;">                System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(map.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(gh));</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">else</span></span>
<span class="line"><span style="color:#24292E;">                System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Key not found: &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> gh);</span></span>
<span class="line"><span style="color:#24292E;">        } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;">(NoSuchMethodException |</span></span>
<span class="line"><span style="color:#24292E;">                IllegalAccessException |</span></span>
<span class="line"><span style="color:#24292E;">                InvocationTargetException |</span></span>
<span class="line"><span style="color:#24292E;">                InstantiationException </span><span style="color:#E36209;">e</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RuntimeException</span><span style="color:#24292E;">(e);</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">detectSpring</span><span style="color:#24292E;">(Groundhog.class);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #3: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #0: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #8: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #6: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #4: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #2: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #1: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #9: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #5: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #7: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Looking up prediction for Groundhog #3</span></span>
<span class="line"><span style="color:#6A737D;">Key not found: Groundhog #3</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>每个 Groundhog 都被赋予了一个常数，因此你可以通过如下的方式在 HashMap 中寻找对应的 Prediction。“给我一个和 Groundhog#3 相关联的 Prediction”。而 Prediction 通过一个随机生成的 boolean 来选择天气。<code>detectSpring()</code> 方法通过反射来实例化 Groundhog 类，或者它的子类。稍后，当我们继承一种新型的“Groundhog ”以解决此处演示的问题时，这将派上用场。</p><p>这里的 HashMap 被 Groundhog 和其相关联的 Prediction 充满。并且上面展示了 HashMap 里面填充的内容。接下来我们使用填充了常数 3 的 Groundhog 作为 key 用于寻找对应的 Prediction 。（这个键值对肯定在 Map 中）。</p><p>这看起来十分简单，但是这样做并没有奏效 —— 它无法找到数字3这个键。问题出在Groundhog自动地继承自基类Object，所以这里使用Object的hashCode0方法生成散列码，而它默认是使用对象的地址计算散列码。因此，由Groundhog(3)生成的第一个实例的散列码与由Groundhog(3)生成的第二个实例的散列码是不同的，而我们正是使用后者进行查找的。</p><p>我们需要恰当的重写hashCode()方法。但是它仍然无法正常运行，除非你同时重写 equals()方法，它也是Object的一部分。HashMap使用equals()判断当前的键是否与表中存在的键相同。</p><p>这是因为默认的Object.equals()只是比较对象的地址，所以一个Groundhog(3)并不等于另一个Groundhog(3)，因此，如果要使用自己的类作为HashMap的键，必须同时重载hashCode()和equals()，如下所示：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/Groundhog2.java</span></span>
<span class="line"><span style="color:#6A737D;">// A class that&#39;s used as a key in a HashMap</span></span>
<span class="line"><span style="color:#6A737D;">// must override hashCode() and equals()</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Groundhog2</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Groundhog</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Groundhog2</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">n</span><span style="color:#E1E4E8;">) { </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">(n); }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">() { </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> number; }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">o</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> o </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> Groundhog2 </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">                Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">                        number, ((Groundhog2)o).number);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/Groundhog2.java</span></span>
<span class="line"><span style="color:#6A737D;">// A class that&#39;s used as a key in a HashMap</span></span>
<span class="line"><span style="color:#6A737D;">// must override hashCode() and equals()</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Groundhog2</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Groundhog</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Groundhog2</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">n</span><span style="color:#24292E;">) { </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(n); }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">() { </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> number; }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">o</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> o </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> Groundhog2 </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">                Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">                        number, ((Groundhog2)o).number);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SpringDetector2.java</span></span>
<span class="line"><span style="color:#6A737D;">// A working key</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SpringDetector2</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        SpringDetector.</span><span style="color:#B392F0;">detectSpring</span><span style="color:#E1E4E8;">(Groundhog2.class);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #0: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #1: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #2: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #3: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #4: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #5: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #6: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #7: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #8: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #9: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Looking up prediction for Groundhog #3</span></span>
<span class="line"><span style="color:#6A737D;">Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SpringDetector2.java</span></span>
<span class="line"><span style="color:#6A737D;">// A working key</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SpringDetector2</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        SpringDetector.</span><span style="color:#6F42C1;">detectSpring</span><span style="color:#24292E;">(Groundhog2.class);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #0: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #1: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #2: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #3: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #4: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #5: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #6: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #7: Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #8: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Groundhog #9: Six more weeks of Winter!</span></span>
<span class="line"><span style="color:#6A737D;">Looking up prediction for Groundhog #3</span></span>
<span class="line"><span style="color:#6A737D;">Early Spring!</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>Groundhog2.hashCode0返回Groundhog的标识数字（编号）作为散列码。在此例中，程序员负责确保不同的Groundhog具有不同的编号。hashCode()并不需要总是能够返回唯一的标识码（稍后你会理解其原因），但是equals() 方法必须严格地判断两个对象是否相同。此处的equals()是判断Groundhog的号码，所以作为HashMap中的键，如果两个Groundhog2对象具有相同的Groundhog编号，程序就出错了。</p><p>如何定义 equals() 方法在上一节 <a href="./.html">equals 规范</a>中提到了。输出表明我们现在的输出是正确的。</p><h3 id="理解-hashcode" tabindex="-1">理解 hashCode <a class="header-anchor" href="#理解-hashcode" aria-label="Permalink to &quot;理解 hashCode&quot;">​</a></h3><p>前面的例子只是正确解决问题的第一步。它只说明，如果不为你的键覆盖hashCode() 和equals() ，那么使用散列的数据结构（HashSet，HashMap，LinkedHashst或LinkedHashMap）就无法正确处理你的键。然而，要很好地解决此问题，你必须了解这些数据结构的内部构造。</p><p>首先，使用散列的目的在于：想要使用一个对象来查找另一个对象。不过使用TreeMap或者你自己实现的Map也可以达到此目的。与散列实现相反，下面的示例用一对ArrayLists实现了一个Map，与AssociativeArray.java不同，这其中包含了Map接口的完整实现，因此提供了entrySet()方法：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SlowMap.java</span></span>
<span class="line"><span style="color:#6A737D;">// A Map implemented with ArrayLists</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> onjava.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SlowMap</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AbstractMap</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> List&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">&gt; keys </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> List&lt;</span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; values </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> V </span><span style="color:#B392F0;">put</span><span style="color:#E1E4E8;">(K </span><span style="color:#FFAB70;">key</span><span style="color:#E1E4E8;">, V </span><span style="color:#FFAB70;">value</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        V oldValue </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(key); </span><span style="color:#6A737D;">// The old value or null</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">keys.</span><span style="color:#B392F0;">contains</span><span style="color:#E1E4E8;">(key)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            keys.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(key);</span></span>
<span class="line"><span style="color:#E1E4E8;">            values.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(value);</span></span>
<span class="line"><span style="color:#E1E4E8;">        } </span><span style="color:#F97583;">else</span></span>
<span class="line"><span style="color:#E1E4E8;">            values.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(keys.</span><span style="color:#B392F0;">indexOf</span><span style="color:#E1E4E8;">(key), value);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> oldValue;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> V </span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">key</span><span style="color:#E1E4E8;">) { </span><span style="color:#6A737D;">// key: type Object, not K</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">keys.</span><span style="color:#B392F0;">contains</span><span style="color:#E1E4E8;">(key))</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> values.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(keys.</span><span style="color:#B392F0;">indexOf</span><span style="color:#E1E4E8;">(key));</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> Set&lt;</span><span style="color:#F97583;">Map</span><span style="color:#E1E4E8;">.</span><span style="color:#F97583;">Entry</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt;&gt; </span><span style="color:#B392F0;">entrySet</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        Set&lt;</span><span style="color:#F97583;">Map</span><span style="color:#E1E4E8;">.</span><span style="color:#F97583;">Entry</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt;&gt; set</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> HashSet&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">        Iterator&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">&gt; ki </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> keys.</span><span style="color:#B392F0;">iterator</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        Iterator&lt;</span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; vi </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> values.</span><span style="color:#B392F0;">iterator</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">(ki.</span><span style="color:#B392F0;">hasNext</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">            set.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> MapEntry&lt;&gt;(ki.</span><span style="color:#B392F0;">next</span><span style="color:#E1E4E8;">(), vi.</span><span style="color:#B392F0;">next</span><span style="color:#E1E4E8;">()));</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> set;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        SlowMap&lt;</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">,</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">&gt; m</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> SlowMap&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">        m.</span><span style="color:#B392F0;">putAll</span><span style="color:#E1E4E8;">(Countries.</span><span style="color:#B392F0;">capitals</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">8</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">        m.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((k, v) </span><span style="color:#F97583;">-&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(k </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;=&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> v));</span></span>
<span class="line"><span style="color:#E1E4E8;">        System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(m.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;BENIN&quot;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">        m.</span><span style="color:#B392F0;">entrySet</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">(System.out</span><span style="color:#F97583;">::</span><span style="color:#E1E4E8;">println);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">CAMEROON=Yaounde</span></span>
<span class="line"><span style="color:#6A737D;">ANGOLA=Luanda</span></span>
<span class="line"><span style="color:#6A737D;">BURKINA FASO=Ouagadougou</span></span>
<span class="line"><span style="color:#6A737D;">BURUNDI=Bujumbura</span></span>
<span class="line"><span style="color:#6A737D;">ALGERIA=Algiers</span></span>
<span class="line"><span style="color:#6A737D;">BENIN=Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAPE VERDE=Praia</span></span>
<span class="line"><span style="color:#6A737D;">BOTSWANA=Gaberone</span></span>
<span class="line"><span style="color:#6A737D;">Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAMEROON=Yaounde</span></span>
<span class="line"><span style="color:#6A737D;">ANGOLA=Luanda</span></span>
<span class="line"><span style="color:#6A737D;">BURKINA FASO=Ouagadougou</span></span>
<span class="line"><span style="color:#6A737D;">BURUNDI=Bujumbura</span></span>
<span class="line"><span style="color:#6A737D;">ALGERIA=Algiers</span></span>
<span class="line"><span style="color:#6A737D;">BENIN=Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAPE VERDE=Praia</span></span>
<span class="line"><span style="color:#6A737D;">BOTSWANA=Gaberone</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SlowMap.java</span></span>
<span class="line"><span style="color:#6A737D;">// A Map implemented with ArrayLists</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> onjava.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SlowMap</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AbstractMap</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> List&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">&gt; keys </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> List&lt;</span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; values </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> V </span><span style="color:#6F42C1;">put</span><span style="color:#24292E;">(K </span><span style="color:#E36209;">key</span><span style="color:#24292E;">, V </span><span style="color:#E36209;">value</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        V oldValue </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(key); </span><span style="color:#6A737D;">// The old value or null</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">keys.</span><span style="color:#6F42C1;">contains</span><span style="color:#24292E;">(key)) {</span></span>
<span class="line"><span style="color:#24292E;">            keys.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(key);</span></span>
<span class="line"><span style="color:#24292E;">            values.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(value);</span></span>
<span class="line"><span style="color:#24292E;">        } </span><span style="color:#D73A49;">else</span></span>
<span class="line"><span style="color:#24292E;">            values.</span><span style="color:#6F42C1;">set</span><span style="color:#24292E;">(keys.</span><span style="color:#6F42C1;">indexOf</span><span style="color:#24292E;">(key), value);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> oldValue;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> V </span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">key</span><span style="color:#24292E;">) { </span><span style="color:#6A737D;">// key: type Object, not K</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">keys.</span><span style="color:#6F42C1;">contains</span><span style="color:#24292E;">(key))</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> values.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(keys.</span><span style="color:#6F42C1;">indexOf</span><span style="color:#24292E;">(key));</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> Set&lt;</span><span style="color:#D73A49;">Map</span><span style="color:#24292E;">.</span><span style="color:#D73A49;">Entry</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt;&gt; </span><span style="color:#6F42C1;">entrySet</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        Set&lt;</span><span style="color:#D73A49;">Map</span><span style="color:#24292E;">.</span><span style="color:#D73A49;">Entry</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt;&gt; set</span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> HashSet&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">        Iterator&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">&gt; ki </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> keys.</span><span style="color:#6F42C1;">iterator</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        Iterator&lt;</span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; vi </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> values.</span><span style="color:#6F42C1;">iterator</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">while</span><span style="color:#24292E;">(ki.</span><span style="color:#6F42C1;">hasNext</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">            set.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> MapEntry&lt;&gt;(ki.</span><span style="color:#6F42C1;">next</span><span style="color:#24292E;">(), vi.</span><span style="color:#6F42C1;">next</span><span style="color:#24292E;">()));</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> set;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        SlowMap&lt;</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">&gt; m</span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> SlowMap&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">        m.</span><span style="color:#6F42C1;">putAll</span><span style="color:#24292E;">(Countries.</span><span style="color:#6F42C1;">capitals</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">8</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">        m.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((k, v) </span><span style="color:#D73A49;">-&gt;</span></span>
<span class="line"><span style="color:#24292E;">                System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(k </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;=&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> v));</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(m.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;BENIN&quot;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">        m.</span><span style="color:#6F42C1;">entrySet</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">CAMEROON=Yaounde</span></span>
<span class="line"><span style="color:#6A737D;">ANGOLA=Luanda</span></span>
<span class="line"><span style="color:#6A737D;">BURKINA FASO=Ouagadougou</span></span>
<span class="line"><span style="color:#6A737D;">BURUNDI=Bujumbura</span></span>
<span class="line"><span style="color:#6A737D;">ALGERIA=Algiers</span></span>
<span class="line"><span style="color:#6A737D;">BENIN=Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAPE VERDE=Praia</span></span>
<span class="line"><span style="color:#6A737D;">BOTSWANA=Gaberone</span></span>
<span class="line"><span style="color:#6A737D;">Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAMEROON=Yaounde</span></span>
<span class="line"><span style="color:#6A737D;">ANGOLA=Luanda</span></span>
<span class="line"><span style="color:#6A737D;">BURKINA FASO=Ouagadougou</span></span>
<span class="line"><span style="color:#6A737D;">BURUNDI=Bujumbura</span></span>
<span class="line"><span style="color:#6A737D;">ALGERIA=Algiers</span></span>
<span class="line"><span style="color:#6A737D;">BENIN=Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAPE VERDE=Praia</span></span>
<span class="line"><span style="color:#6A737D;">BOTSWANA=Gaberone</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>put()方法只是将键与值放入相应的ArrayList。为了与Map接口保持一致，它必须返回旧的键，或者在没有任何旧键的情况下返回null。</p><p>同样遵循了Map规范，get()会在键不在SlowMap中的时候产生null。如果键存在，它将被用来查找表示它在keys列表中的位置的数值型索引，并且这个数字被用作索引来产生与values列表相关联的值。注意，在get()中key的类型是Object，而不是你所期望的参数化类型K（并且是在AssociativeArrayjava中真正使用的类型），这是将泛型注入到Java语言中的时刻如此之晚所导致的结果-如果泛型是Java语言最初就具备的属性，那么get()就可以执行其参数的类型。</p><p>Map.entrySet() 方法必须产生一个Map.Entry对象集。但是，Map.Entry是一个接口，用来描述依赖于实现的结构，因此如果你想要创建自己的Map类型，就必须同时定义Map.Entry的实现：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/MapEntry.java</span></span>
<span class="line"><span style="color:#6A737D;">// A simple Map.Entry for sample Map implementations</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">MapEntry</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#F97583;">implements</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Map.Entry</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> K key;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> V value;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">MapEntry</span><span style="color:#E1E4E8;">(K </span><span style="color:#FFAB70;">key</span><span style="color:#E1E4E8;">, V </span><span style="color:#FFAB70;">value</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.key </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> key;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> value;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> K </span><span style="color:#B392F0;">getKey</span><span style="color:#E1E4E8;">() { </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> key; }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> V </span><span style="color:#B392F0;">getValue</span><span style="color:#E1E4E8;">() { </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> value; }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> V </span><span style="color:#B392F0;">setValue</span><span style="color:#E1E4E8;">(V </span><span style="color:#FFAB70;">v</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        V result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> value;</span></span>
<span class="line"><span style="color:#E1E4E8;">        value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> v;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> result;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Objects.</span><span style="color:#B392F0;">hash</span><span style="color:#E1E4E8;">(key, value);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">SuppressWarnings</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;unchecked&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">rval</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> rval </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> MapEntry </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">                Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(key,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        ((MapEntry</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">K, V</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">)rval).</span><span style="color:#B392F0;">getKey</span><span style="color:#E1E4E8;">()) </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">                Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(value,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        ((MapEntry</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">K, V</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">)rval).</span><span style="color:#B392F0;">getValue</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> String </span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> key </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;=&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> value;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/MapEntry.java</span></span>
<span class="line"><span style="color:#6A737D;">// A simple Map.Entry for sample Map implementations</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MapEntry</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">implements</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Map.Entry</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> K key;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> V value;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MapEntry</span><span style="color:#24292E;">(K </span><span style="color:#E36209;">key</span><span style="color:#24292E;">, V </span><span style="color:#E36209;">value</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.key </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> key;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> value;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> K </span><span style="color:#6F42C1;">getKey</span><span style="color:#24292E;">() { </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> key; }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> V </span><span style="color:#6F42C1;">getValue</span><span style="color:#24292E;">() { </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> value; }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> V </span><span style="color:#6F42C1;">setValue</span><span style="color:#24292E;">(V </span><span style="color:#E36209;">v</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        V result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> value;</span></span>
<span class="line"><span style="color:#24292E;">        value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> v;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Objects.</span><span style="color:#6F42C1;">hash</span><span style="color:#24292E;">(key, value);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">SuppressWarnings</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;unchecked&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">rval</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> rval </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> MapEntry </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">                Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(key,</span></span>
<span class="line"><span style="color:#24292E;">                        ((MapEntry</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">K, V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">)rval).</span><span style="color:#6F42C1;">getKey</span><span style="color:#24292E;">()) </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">                Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(value,</span></span>
<span class="line"><span style="color:#24292E;">                        ((MapEntry</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">K, V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">)rval).</span><span style="color:#6F42C1;">getValue</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> String </span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> key </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;=&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> value;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>这里 equals 方法的实现遵循了<a href="./.html">equals 规范</a>。在 Objects 类中有一个非常熟悉的方法可以帮助创建 hashCode() 方法： Objects.hash()。当你定义含有超过一个属性的对象的 <code>hashCode()</code> 时，你可以使用这个方法。如果你的对象只有一个属性，可以直接使用 <code> Objects.hashCode()</code>。</p><p>尽管这个解决方案非常简单，并且看起来在SlowMap.main() 的琐碎测试中可以正常工作，但是这并不是一个恰当的实现，因为它创建了键和值的副本。entrySet() 的恰当实现应该在Map中提供视图，而不是副本，并且这个视图允许对原始映射表进行修改（副本就不行）。</p><h3 id="为了速度而散列" tabindex="-1">为了速度而散列 <a class="header-anchor" href="#为了速度而散列" aria-label="Permalink to &quot;为了速度而散列&quot;">​</a></h3><p>SlowMap.java 说明了创建一种新的Map并不困难。但是正如它的名称SlowMap所示，它不会很快，所以如果有更好的选择，就应该放弃它。它的问题在于对键的查询，键没有按照任何特定顺序保存，所以只能使用简单的线性查询，而线性查询是最慢的查询方式。</p><p>散列的价值在于速度：散列使得查询得以快速进行。由于瓶颈位于键的查询速度，因此解决方案之一就是保持键的排序状态，然后使用Collections.binarySearch()进行查询。</p><p>散列则更进一步，它将键保存在某处，以便能够很快找到。存储一组元素最快的数据结构是数组，所以使用它来表示键的信息（请小心留意，我是说键的信息，而不是键本身）。但是因为数组不能调整容量，因此就有一个问题：我们希望在Map中保存数量不确定的值，但是如果键的数量被数组的容量限制了，该怎么办呢？</p><p>答案就是：数组并不保存键本身。而是通过键对象生成一个数字，将其作为数组的下标。这个数字就是散列码，由定义在Object中的、且可能由你的类覆盖的hashCode()方法（在计算机科学的术语中称为散列函数）生成。</p><p>于是查询一个值的过程首先就是计算散列码，然后使用散列码查询数组。如果能够保证没有冲突（如果值的数量是固定的，那么就有可能），那可就有了一个完美的散列函数，但是这种情况只是特例。。通常，冲突由外部链接处理：数组并不直接保存值，而是保存值的 list。然后对 list中的值使用equals()方法进行线性的查询。这部分的查询自然会比较慢，但是，如果散列函数好的话，数组的每个位置就只有较少的值。因此，不是查询整个list，而是快速地跳到数组的某个位置，只对很少的元素进行比较。这便是HashMap会如此快的原因。</p><p>理解了散列的原理，我们就能够实现一个简单的散列Map了：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SimpleHashMap.java</span></span>
<span class="line"><span style="color:#6A737D;">// A demonstration hashed Map</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> onjava.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">public</span></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SimpleHashMap</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AbstractMap</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// Choose a prime number for the hash table</span></span>
<span class="line"><span style="color:#6A737D;">// size, to achieve a uniform distribution:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">final</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> SIZE </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">997</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// You can&#39;t have a physical array of generics,</span></span>
<span class="line"><span style="color:#6A737D;">// but you can upcast to one:</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">SuppressWarnings</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;unchecked&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    LinkedList&lt;MapEntry&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt;&gt;[] buckets </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">LinkedList</span><span style="color:#E1E4E8;">[SIZE];</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> V </span><span style="color:#B392F0;">put</span><span style="color:#E1E4E8;">(K </span><span style="color:#FFAB70;">key</span><span style="color:#E1E4E8;">, V </span><span style="color:#FFAB70;">value</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        V oldValue </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> index </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">abs</span><span style="color:#E1E4E8;">(key.</span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">()) </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> SIZE;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(buckets[index] </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">            buckets[index] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> LinkedList&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">        LinkedList&lt;MapEntry&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt;&gt; bucket </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> buckets[index];</span></span>
<span class="line"><span style="color:#E1E4E8;">        MapEntry&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; pair </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> MapEntry&lt;&gt;(key, value);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        ListIterator&lt;MapEntry&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt;&gt; it </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#E1E4E8;">                bucket.</span><span style="color:#B392F0;">listIterator</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">(it.</span><span style="color:#B392F0;">hasNext</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            MapEntry&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; iPair </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> it.</span><span style="color:#B392F0;">next</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(iPair.</span><span style="color:#B392F0;">getKey</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(key)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">                oldValue </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> iPair.</span><span style="color:#B392F0;">getValue</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">                it.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(pair); </span><span style="color:#6A737D;">// Replace old with new</span></span>
<span class="line"><span style="color:#E1E4E8;">                found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">found)</span></span>
<span class="line"><span style="color:#E1E4E8;">            buckets[index].</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(pair);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> oldValue;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> V </span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">key</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> index </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">abs</span><span style="color:#E1E4E8;">(key.</span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">()) </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> SIZE;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(buckets[index] </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(MapEntry&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; iPair </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> buckets[index])</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(iPair.</span><span style="color:#B392F0;">getKey</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(key))</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> iPair.</span><span style="color:#B392F0;">getValue</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> Set&lt;</span><span style="color:#F97583;">Map</span><span style="color:#E1E4E8;">.</span><span style="color:#F97583;">Entry</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt;&gt; </span><span style="color:#B392F0;">entrySet</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        Set&lt;</span><span style="color:#F97583;">Map</span><span style="color:#E1E4E8;">.</span><span style="color:#F97583;">Entry</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt;&gt; set</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> HashSet&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(LinkedList&lt;MapEntry&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt;&gt; bucket </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> buckets) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(bucket </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">continue</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(MapEntry&lt;</span><span style="color:#F97583;">K</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">V</span><span style="color:#E1E4E8;">&gt; mpair </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> bucket)</span></span>
<span class="line"><span style="color:#E1E4E8;">                set.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(mpair);</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> set;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        SimpleHashMap&lt;</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">,</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">&gt; m </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> SimpleHashMap&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">        m.</span><span style="color:#B392F0;">putAll</span><span style="color:#E1E4E8;">(Countries.</span><span style="color:#B392F0;">capitals</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">8</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">        m.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((k, v) </span><span style="color:#F97583;">-&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(k </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;=&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> v));</span></span>
<span class="line"><span style="color:#E1E4E8;">        System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(m.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;BENIN&quot;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">        m.</span><span style="color:#B392F0;">entrySet</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">(System.out</span><span style="color:#F97583;">::</span><span style="color:#E1E4E8;">println);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">CAMEROON=Yaounde</span></span>
<span class="line"><span style="color:#6A737D;">ANGOLA=Luanda</span></span>
<span class="line"><span style="color:#6A737D;">BURKINA FASO=Ouagadougou</span></span>
<span class="line"><span style="color:#6A737D;">BURUNDI=Bujumbura</span></span>
<span class="line"><span style="color:#6A737D;">ALGERIA=Algiers</span></span>
<span class="line"><span style="color:#6A737D;">BENIN=Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAPE VERDE=Praia</span></span>
<span class="line"><span style="color:#6A737D;">BOTSWANA=Gaberone</span></span>
<span class="line"><span style="color:#6A737D;">Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAMEROON=Yaounde</span></span>
<span class="line"><span style="color:#6A737D;">ANGOLA=Luanda</span></span>
<span class="line"><span style="color:#6A737D;">BURKINA FASO=Ouagadougou</span></span>
<span class="line"><span style="color:#6A737D;">BURUNDI=Bujumbura</span></span>
<span class="line"><span style="color:#6A737D;">ALGERIA=Algiers</span></span>
<span class="line"><span style="color:#6A737D;">BENIN=Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAPE VERDE=Praia</span></span>
<span class="line"><span style="color:#6A737D;">BOTSWANA=Gaberone</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/SimpleHashMap.java</span></span>
<span class="line"><span style="color:#6A737D;">// A demonstration hashed Map</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> onjava.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">public</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SimpleHashMap</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AbstractMap</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// Choose a prime number for the hash table</span></span>
<span class="line"><span style="color:#6A737D;">// size, to achieve a uniform distribution:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">final</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> SIZE </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">997</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// You can&#39;t have a physical array of generics,</span></span>
<span class="line"><span style="color:#6A737D;">// but you can upcast to one:</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">SuppressWarnings</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;unchecked&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    LinkedList&lt;MapEntry&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt;&gt;[] buckets </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">LinkedList</span><span style="color:#24292E;">[SIZE];</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> V </span><span style="color:#6F42C1;">put</span><span style="color:#24292E;">(K </span><span style="color:#E36209;">key</span><span style="color:#24292E;">, V </span><span style="color:#E36209;">value</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        V oldValue </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> index </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">abs</span><span style="color:#24292E;">(key.</span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">()) </span><span style="color:#D73A49;">%</span><span style="color:#24292E;"> SIZE;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(buckets[index] </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">            buckets[index] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> LinkedList&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">        LinkedList&lt;MapEntry&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt;&gt; bucket </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> buckets[index];</span></span>
<span class="line"><span style="color:#24292E;">        MapEntry&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; pair </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> MapEntry&lt;&gt;(key, value);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        ListIterator&lt;MapEntry&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt;&gt; it </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">                bucket.</span><span style="color:#6F42C1;">listIterator</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">while</span><span style="color:#24292E;">(it.</span><span style="color:#6F42C1;">hasNext</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">            MapEntry&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; iPair </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> it.</span><span style="color:#6F42C1;">next</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(iPair.</span><span style="color:#6F42C1;">getKey</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(key)) {</span></span>
<span class="line"><span style="color:#24292E;">                oldValue </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> iPair.</span><span style="color:#6F42C1;">getValue</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">                it.</span><span style="color:#6F42C1;">set</span><span style="color:#24292E;">(pair); </span><span style="color:#6A737D;">// Replace old with new</span></span>
<span class="line"><span style="color:#24292E;">                found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">found)</span></span>
<span class="line"><span style="color:#24292E;">            buckets[index].</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(pair);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> oldValue;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> V </span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">key</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> index </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">abs</span><span style="color:#24292E;">(key.</span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">()) </span><span style="color:#D73A49;">%</span><span style="color:#24292E;"> SIZE;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(buckets[index] </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(MapEntry&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; iPair </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> buckets[index])</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(iPair.</span><span style="color:#6F42C1;">getKey</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(key))</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> iPair.</span><span style="color:#6F42C1;">getValue</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> Set&lt;</span><span style="color:#D73A49;">Map</span><span style="color:#24292E;">.</span><span style="color:#D73A49;">Entry</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt;&gt; </span><span style="color:#6F42C1;">entrySet</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        Set&lt;</span><span style="color:#D73A49;">Map</span><span style="color:#24292E;">.</span><span style="color:#D73A49;">Entry</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt;&gt; set</span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> HashSet&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(LinkedList&lt;MapEntry&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt;&gt; bucket </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> buckets) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(bucket </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">continue</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(MapEntry&lt;</span><span style="color:#D73A49;">K</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">V</span><span style="color:#24292E;">&gt; mpair </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> bucket)</span></span>
<span class="line"><span style="color:#24292E;">                set.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(mpair);</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> set;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        SimpleHashMap&lt;</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">&gt; m </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> SimpleHashMap&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">        m.</span><span style="color:#6F42C1;">putAll</span><span style="color:#24292E;">(Countries.</span><span style="color:#6F42C1;">capitals</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">8</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">        m.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((k, v) </span><span style="color:#D73A49;">-&gt;</span></span>
<span class="line"><span style="color:#24292E;">                System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(k </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;=&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> v));</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(m.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;BENIN&quot;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">        m.</span><span style="color:#6F42C1;">entrySet</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">CAMEROON=Yaounde</span></span>
<span class="line"><span style="color:#6A737D;">ANGOLA=Luanda</span></span>
<span class="line"><span style="color:#6A737D;">BURKINA FASO=Ouagadougou</span></span>
<span class="line"><span style="color:#6A737D;">BURUNDI=Bujumbura</span></span>
<span class="line"><span style="color:#6A737D;">ALGERIA=Algiers</span></span>
<span class="line"><span style="color:#6A737D;">BENIN=Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAPE VERDE=Praia</span></span>
<span class="line"><span style="color:#6A737D;">BOTSWANA=Gaberone</span></span>
<span class="line"><span style="color:#6A737D;">Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAMEROON=Yaounde</span></span>
<span class="line"><span style="color:#6A737D;">ANGOLA=Luanda</span></span>
<span class="line"><span style="color:#6A737D;">BURKINA FASO=Ouagadougou</span></span>
<span class="line"><span style="color:#6A737D;">BURUNDI=Bujumbura</span></span>
<span class="line"><span style="color:#6A737D;">ALGERIA=Algiers</span></span>
<span class="line"><span style="color:#6A737D;">BENIN=Porto-Novo</span></span>
<span class="line"><span style="color:#6A737D;">CAPE VERDE=Praia</span></span>
<span class="line"><span style="color:#6A737D;">BOTSWANA=Gaberone</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>由于散列表中的“槽位”（slot）通常称为桶位（bucket），因此我们将表示实际散列表的数组命名为bucket，为使散列分布均匀，桶的数量通常使用质数[^2]。注意，为了能够自动处理冲突，使用了一个LinkedList的数组；每一个新的元素只是直接添加到list尾的某个特定桶位中。即使Java不允许你创建泛型数组，那你也可以创建指向这种数组的引用。这里，向上转型为这种数组是很方便的，这样可以防止在后面的代码中进行额外的转型。</p><p>对于put() 方法，hashCode() 将针对键而被调用，并且其结果被强制转换为正数。为了使产生的数字适合bucket数组的大小，取模操作符将按照该数组的尺寸取模。如果数组的某个位置是 null，这表示还没有元素被散列至此，所以，为了保存刚散列到该定位的对象，需要创建一个新的LinkedList。一般的过程是，查看当前位置的ist中是否有相同的元素，如果有，则将旧的值赋给oldValue，然后用新的值取代旧的值。标记found用来跟踪是否找到（相同的）旧的键值对，如果没有，则将新的对添加到list的末尾。</p><p>get()方法按照与put()方法相同的方式计算在buckets数组中的索引（这很重要，因为这样可以保证两个方法可以计算出相同的位置）如果此位置有LinkedList存在，就对其进行查询。</p><p>注意，这个实现并不意味着对性能进行了调优，它只是想要展示散列映射表执行的各种操作。如果你浏览一下java.util.HashMap的源代码，你就会看到一个调过优的实现。同样，为了简单，SimpleHashMap使用了与SlowMap相同的方式来实现entrySet()，这个方法有些过于简单，不能用于通用的Map。</p><h3 id="重写-hashcode" tabindex="-1">重写 hashCode() <a class="header-anchor" href="#重写-hashcode" aria-label="Permalink to &quot;重写 hashCode()&quot;">​</a></h3><p>在明白了如何散列之后，编写自己的hashCode()就更有意义了。</p><p>首先，你无法控制bucket数组的下标值的产生。这个值依赖于具体的HashMap对象的容量，而容量的改变与容器的充满程度和负载因子（本章稍后会介绍这个术语）有关。hashCode()生成的结果，经过处理后成为桶位的下标（在SimpleHashMap中，只是对其取模，模数为bucket数组的大小）。</p><p>设计hashCode()时最重要的因素就是：无论何时，对同一个对象调用hashCode()都应该生成同样的值。如果在将一个对象用put()添加进HashMap时产生一个hashCode()值，而用get()取出时却产生了另一个hashCode()值，那么就无法重新取得该对象了。所以，如果你的hashCode()方法依赖于对象中易变的数据，用户就要当心了，因为此数据发生变化时，hashCode()就会生成一个不同的散列码，相当于产生了一个不同的键。</p><p>此外，也不应该使hashCode()依赖于具有唯一性的对象信息，尤其是使用this值，这只能产生很糟糕的hashCode()，因为这样做无法生成一个新的键，使之与put()中原始的键值对中的键相同。这正是SpringDetector.java的问题所在，因为它默认的hashCode0使用的是对象的地址。所以，应该使用对象内有意义的识别信息。</p><p>下面以String类为例。String有个特点：如果程序中有多个String对象，都包含相同的字符串序列，那么这些String对象都映射到同一块内存区域。所以new String(&quot;hello&quot;)生成的两个实例，虽然是相互独立的，但是对它们使用hashCode()应该生成同样的结果。通过下面的程序可以看到这种情况：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/StringHashCode.java</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">StringHashCode</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] hellos </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Hello Hello&quot;</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">split</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot; &quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(hellos[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">        System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(hellos[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">69609650</span></span>
<span class="line"><span style="color:#6A737D;">69609650</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/StringHashCode.java</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">StringHashCode</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] hellos </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Hello Hello&quot;</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">split</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(hellos[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(hellos[</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">69609650</span></span>
<span class="line"><span style="color:#6A737D;">69609650</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>对于String而言，hashCode() 明显是基于String的内容的。</p><p>因此，要想使hashCode() 实用，它必须速度快，并且必须有意义。也就是说，它必须基于对象的内容生成散列码。记得吗，散列码不必是独一无二的（应该更关注生成速度，而不是唯一性），但是通过 hashCode() 和 equals() ，必须能够完全确定对象的身份。</p><p>因为在生成桶的下标前，hashCode()还需要做进一步的处理，所以散列码的生成范围并不重要，只要是int即可。</p><p>还有另一个影响因素：好的hashCode() 应该产生分布均匀的散列码。如果散列码都集中在一块，那么HashMap或者HashSet在某些区域的负载会很重，这样就不如分布均匀的散列函数快。</p><p>在Effective Java Programming Language Guide（Addison-Wesley 2001）这本书中，Joshua Bloch为怎样写出一份像样的hashCode()给出了基本的指导：</p><ol><li>给int变量result赋予某个非零值常量，例如17。</li><li>为对象内每个有意义的字段（即每个可以做equals）操作的字段计算出一个int散列码c：</li></ol><table><thead><tr><th>字段类型</th><th>计算公式</th></tr></thead><tbody><tr><td>boolean</td><td>c = (f ? 0 : 1)</td></tr><tr><td>byte , char , short , or int</td><td>c = (int)f</td></tr><tr><td>long</td><td>c = (int)(f ^ (f&gt;&gt;&gt;32))</td></tr><tr><td>float</td><td>c = Float.floatToIntBits(f);</td></tr><tr><td>double</td><td>long l =Double.doubleToLongBits(f); &lt; br &gt;c = (int)(l ^ (l &gt;&gt;&gt; 32))</td></tr><tr><td>Object , where equals() calls equals() for this field</td><td>c = f.hashCode()</td></tr><tr><td>Array</td><td>应用以上规则到每一个元素中</td></tr></tbody></table><ol start="3"><li>合并计算得到的散列码： <strong>result = 37 * result + c;​</strong></li><li>返回 result。</li><li>检查hashCode()最后生成的结果，确保相同的对象有相同的散列码。</li></ol><p>下面便是遵循这些指导的一个例子。提示，你没有必要书写像如下的代码 —— 相反，使用 <code>Objects.hash()</code> 去用于散列多字段的对象（如同在本例中的那样），然后使用 <code>Objects.hashCode()</code> 如散列单字段的对象。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/CountedString.java</span></span>
<span class="line"><span style="color:#6A737D;">// Creating a good hashCode()</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CountedString</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> List&lt;</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">&gt; created </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> String s;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CountedString</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">str</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        s </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> str;</span></span>
<span class="line"><span style="color:#E1E4E8;">        created.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(s);</span></span>
<span class="line"><span style="color:#6A737D;">// id is the total number of instances</span></span>
<span class="line"><span style="color:#6A737D;">// of this String used by CountedString:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(String s2 </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> created)</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(s2.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(s))</span></span>
<span class="line"><span style="color:#E1E4E8;">                id</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> String </span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;String: &quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> s </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot; id: &quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&quot; hashCode(): &quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#6A737D;">// The very simple approach:</span></span>
<span class="line"><span style="color:#6A737D;">// return s.hashCode() * id;</span></span>
<span class="line"><span style="color:#6A737D;">// Using Joshua Bloch&#39;s recipe:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">17</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">37</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> s.</span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">37</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> id;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> result;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(Object </span><span style="color:#FFAB70;">o</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> o </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> CountedString </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">                Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(s, ((CountedString)o).s) </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">                Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(id, ((CountedString)o).id);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        Map&lt;</span><span style="color:#F97583;">CountedString</span><span style="color:#E1E4E8;">,</span><span style="color:#F97583;">Integer</span><span style="color:#E1E4E8;">&gt; map </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> HashMap&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">CountedString</span><span style="color:#E1E4E8;">[] cs </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">CountedString</span><span style="color:#E1E4E8;">[</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> cs.length; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            cs[i] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CountedString</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;hi&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">            map.</span><span style="color:#B392F0;">put</span><span style="color:#E1E4E8;">(cs[i], i); </span><span style="color:#6A737D;">// Autobox int to Integer</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(map);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(CountedString cstring </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> cs) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Looking up &quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> cstring);</span></span>
<span class="line"><span style="color:#E1E4E8;">            System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(map.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(cstring));</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">{String: hi id: 4 hashCode(): 146450=3, String: hi id:</span></span>
<span class="line"><span style="color:#6A737D;">5 hashCode(): 146451=4, String: hi id: 2 hashCode():</span></span>
<span class="line"><span style="color:#6A737D;">146448=1, String: hi id: 3 hashCode(): 146449=2,</span></span>
<span class="line"><span style="color:#6A737D;">String: hi id: 1 hashCode(): 146447=0}</span></span>
<span class="line"><span style="color:#6A737D;">Looking up String: hi id: 1 hashCode(): 146447</span></span>
<span class="line"><span style="color:#6A737D;">0</span></span>
<span class="line"><span style="color:#6A737D;">Looking up String: hi id: 2 hashCode(): 146448</span></span>
<span class="line"><span style="color:#6A737D;">1</span></span>
<span class="line"><span style="color:#6A737D;">Looking up String: hi id: 3 hashCode(): 146449</span></span>
<span class="line"><span style="color:#6A737D;">2</span></span>
<span class="line"><span style="color:#6A737D;">Looking up String: hi id: 4 hashCode(): 146450</span></span>
<span class="line"><span style="color:#6A737D;">3</span></span>
<span class="line"><span style="color:#6A737D;">Looking up String: hi id: 5 hashCode(): 146451</span></span>
<span class="line"><span style="color:#6A737D;">4</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/CountedString.java</span></span>
<span class="line"><span style="color:#6A737D;">// Creating a good hashCode()</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CountedString</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> List&lt;</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">&gt; created </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String s;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CountedString</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">str</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        s </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> str;</span></span>
<span class="line"><span style="color:#24292E;">        created.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(s);</span></span>
<span class="line"><span style="color:#6A737D;">// id is the total number of instances</span></span>
<span class="line"><span style="color:#6A737D;">// of this String used by CountedString:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(String s2 </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> created)</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(s2.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(s))</span></span>
<span class="line"><span style="color:#24292E;">                id</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> String </span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;String: &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> s </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot; id: &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&quot; hashCode(): &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#6A737D;">// The very simple approach:</span></span>
<span class="line"><span style="color:#6A737D;">// return s.hashCode() * id;</span></span>
<span class="line"><span style="color:#6A737D;">// Using Joshua Bloch&#39;s recipe:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">17</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">37</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> s.</span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">37</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> id;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">o</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> o </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> CountedString </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">                Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(s, ((CountedString)o).s) </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">                Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(id, ((CountedString)o).id);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        Map&lt;</span><span style="color:#D73A49;">CountedString</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">Integer</span><span style="color:#24292E;">&gt; map </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> HashMap&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">CountedString</span><span style="color:#24292E;">[] cs </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">CountedString</span><span style="color:#24292E;">[</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> cs.length; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            cs[i] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CountedString</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;hi&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">            map.</span><span style="color:#6F42C1;">put</span><span style="color:#24292E;">(cs[i], i); </span><span style="color:#6A737D;">// Autobox int to Integer</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(map);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(CountedString cstring </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> cs) {</span></span>
<span class="line"><span style="color:#24292E;">            System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Looking up &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> cstring);</span></span>
<span class="line"><span style="color:#24292E;">            System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(map.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(cstring));</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">{String: hi id: 4 hashCode(): 146450=3, String: hi id:</span></span>
<span class="line"><span style="color:#6A737D;">5 hashCode(): 146451=4, String: hi id: 2 hashCode():</span></span>
<span class="line"><span style="color:#6A737D;">146448=1, String: hi id: 3 hashCode(): 146449=2,</span></span>
<span class="line"><span style="color:#6A737D;">String: hi id: 1 hashCode(): 146447=0}</span></span>
<span class="line"><span style="color:#6A737D;">Looking up String: hi id: 1 hashCode(): 146447</span></span>
<span class="line"><span style="color:#6A737D;">0</span></span>
<span class="line"><span style="color:#6A737D;">Looking up String: hi id: 2 hashCode(): 146448</span></span>
<span class="line"><span style="color:#6A737D;">1</span></span>
<span class="line"><span style="color:#6A737D;">Looking up String: hi id: 3 hashCode(): 146449</span></span>
<span class="line"><span style="color:#6A737D;">2</span></span>
<span class="line"><span style="color:#6A737D;">Looking up String: hi id: 4 hashCode(): 146450</span></span>
<span class="line"><span style="color:#6A737D;">3</span></span>
<span class="line"><span style="color:#6A737D;">Looking up String: hi id: 5 hashCode(): 146451</span></span>
<span class="line"><span style="color:#6A737D;">4</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>CountedString由一个String和一个id组成，此id代表包含相同String的CountedString对象的编号。所有的String都被存储在static ArrayList中，在构造器中通过选代遍历此ArrayList完成对id的计算。</p><p>hashCode()和equals() 都基于CountedString的这两个字段来生成结果；如果它们只基于String或者只基于id，不同的对象就可能产生相同的值。</p><p>在main）中，使用相同的String创建了多个CountedString对象。这说明，虽然String相同，但是由于id不同，所以使得它们的散列码并不相同。在程序中，HashMap被打印了出来，因此可以看到它内部是如何存储元素的（以无法辨别的次序），然后单独查询每一个键，以此证明查询机制工作正常。</p><p>作为第二个示例，请考虑Individual类，它被用作<a href="./.html">类型信息</a>中所定义的typeinfo.pet类库的基类。Individual类在那一章中就用到了，而它的定义则放到了本章，因此你可以正确地理解其实现。</p><p>在这里替换了手工去计算 <code>hashCode()</code>，我们使用了更合适的方式 <code>Objects.hash()</code>：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// typeinfo/pets/Individual.java</span></span>
<span class="line"><span style="color:#F97583;">package</span><span style="color:#E1E4E8;"> typeinfo.pets;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> class</span></span>
<span class="line"><span style="color:#E1E4E8;">Individual implements Comparable</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">Individual</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">long</span><span style="color:#E1E4E8;"> counter </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">final</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">long</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> counter</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> String name;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Individual</span><span style="color:#E1E4E8;">(String name) { </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.name </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> name; }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// &#39;name&#39; is optional:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Individual</span><span style="color:#E1E4E8;">() {}</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> String </span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getClass</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">getSimpleName</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">                (name </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot; &quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> name);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">long</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">() { </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> id; }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(Object o) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> o </span><span style="color:#F97583;">instanceof</span><span style="color:#E1E4E8;"> Individual </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">                Objects.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(id, ((Individual)o).id);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hashCode</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Objects.</span><span style="color:#B392F0;">hash</span><span style="color:#E1E4E8;">(name, id);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">compareTo</span><span style="color:#E1E4E8;">(Individual arg) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// Compare by class name first:</span></span>
<span class="line"><span style="color:#E1E4E8;">        String first </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getClass</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">getSimpleName</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        String argFirst </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> arg.</span><span style="color:#B392F0;">getClass</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">getSimpleName</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> firstCompare </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> first.</span><span style="color:#B392F0;">compareTo</span><span style="color:#E1E4E8;">(argFirst);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(firstCompare </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> firstCompare;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(name </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> arg.name </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> secondCompare </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> name.</span><span style="color:#B392F0;">compareTo</span><span style="color:#E1E4E8;">(arg.name);</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(secondCompare </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> secondCompare;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (arg.id </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> (arg.id </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// typeinfo/pets/Individual.java</span></span>
<span class="line"><span style="color:#D73A49;">package</span><span style="color:#24292E;"> typeinfo.pets;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> class</span></span>
<span class="line"><span style="color:#24292E;">Individual implements Comparable</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Individual</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">long</span><span style="color:#24292E;"> counter </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">final</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">long</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> counter</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Individual</span><span style="color:#24292E;">(String name) { </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> name; }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// &#39;name&#39; is optional:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Individual</span><span style="color:#24292E;">() {}</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> String </span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getClass</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">getSimpleName</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">                (name </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> name);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">long</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">() { </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> id; }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(Object o) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> o </span><span style="color:#D73A49;">instanceof</span><span style="color:#24292E;"> Individual </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">                Objects.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(id, ((Individual)o).id);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">hashCode</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Objects.</span><span style="color:#6F42C1;">hash</span><span style="color:#24292E;">(name, id);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">compareTo</span><span style="color:#24292E;">(Individual arg) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// Compare by class name first:</span></span>
<span class="line"><span style="color:#24292E;">        String first </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getClass</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">getSimpleName</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        String argFirst </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> arg.</span><span style="color:#6F42C1;">getClass</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">getSimpleName</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> firstCompare </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> first.</span><span style="color:#6F42C1;">compareTo</span><span style="color:#24292E;">(argFirst);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(firstCompare </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> firstCompare;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(name </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> arg.name </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> secondCompare </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> name.</span><span style="color:#6F42C1;">compareTo</span><span style="color:#24292E;">(arg.name);</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(secondCompare </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> secondCompare;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (arg.id </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> (arg.id </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>compareTo() 方法有一个比较结构，因此它会产生一个排序序列，排序的规则首先按照实际类型排序，然后如果有名字的话，按照name排序，最后按照创建的顺序排序。下面的示例说明了它是如何工作的：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/IndividualTest.java</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> collections.MapOfList;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> typeinfo.pets.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">IndividualTest</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        Set&lt;</span><span style="color:#F97583;">Individual</span><span style="color:#E1E4E8;">&gt; pets </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> TreeSet&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(List&lt;</span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">Pet</span><span style="color:#E1E4E8;">&gt; lp </span><span style="color:#F97583;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">                MapOfList.petPeople.</span><span style="color:#B392F0;">values</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(Pet p </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> lp)</span></span>
<span class="line"><span style="color:#E1E4E8;">                pets.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(p);</span></span>
<span class="line"><span style="color:#E1E4E8;">        pets.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">(System.out</span><span style="color:#F97583;">::</span><span style="color:#E1E4E8;">println);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">Cat Elsie May</span></span>
<span class="line"><span style="color:#6A737D;">Cat Pinkola</span></span>
<span class="line"><span style="color:#6A737D;">Cat Shackleton</span></span>
<span class="line"><span style="color:#6A737D;">Cat Stanford</span></span>
<span class="line"><span style="color:#6A737D;">Cymric Molly</span></span>
<span class="line"><span style="color:#6A737D;">Dog Margrett</span></span>
<span class="line"><span style="color:#6A737D;">Mutt Spot</span></span>
<span class="line"><span style="color:#6A737D;">Pug Louie aka Louis Snorkelstein Dupree</span></span>
<span class="line"><span style="color:#6A737D;">Rat Fizzy</span></span>
<span class="line"><span style="color:#6A737D;">Rat Freckly</span></span>
<span class="line"><span style="color:#6A737D;">Rat Fuzzy</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// equalshashcode/IndividualTest.java</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> collections.MapOfList;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> typeinfo.pets.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IndividualTest</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        Set&lt;</span><span style="color:#D73A49;">Individual</span><span style="color:#24292E;">&gt; pets </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> TreeSet&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(List&lt;</span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">Pet</span><span style="color:#24292E;">&gt; lp </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">                MapOfList.petPeople.</span><span style="color:#6F42C1;">values</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(Pet p </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> lp)</span></span>
<span class="line"><span style="color:#24292E;">                pets.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(p);</span></span>
<span class="line"><span style="color:#24292E;">        pets.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* Output:</span></span>
<span class="line"><span style="color:#6A737D;">Cat Elsie May</span></span>
<span class="line"><span style="color:#6A737D;">Cat Pinkola</span></span>
<span class="line"><span style="color:#6A737D;">Cat Shackleton</span></span>
<span class="line"><span style="color:#6A737D;">Cat Stanford</span></span>
<span class="line"><span style="color:#6A737D;">Cymric Molly</span></span>
<span class="line"><span style="color:#6A737D;">Dog Margrett</span></span>
<span class="line"><span style="color:#6A737D;">Mutt Spot</span></span>
<span class="line"><span style="color:#6A737D;">Pug Louie aka Louis Snorkelstein Dupree</span></span>
<span class="line"><span style="color:#6A737D;">Rat Fizzy</span></span>
<span class="line"><span style="color:#6A737D;">Rat Freckly</span></span>
<span class="line"><span style="color:#6A737D;">Rat Fuzzy</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span></code></pre></div><p>由于所有的宠物都有名字，因此它们首先按照类型排序，然后在同类型中按照名字排序。</p><h2 id="调优-hashmap" tabindex="-1">调优 HashMap <a class="header-anchor" href="#调优-hashmap" aria-label="Permalink to &quot;调优 HashMap&quot;">​</a></h2><p>我们有可能手动调优HashMap以提高其在特定应用程序中的性能。为了理解调整HashMap时的性能问题，一些术语是必要的：</p><ul><li>容量（Capacity）：表中存储的桶数量。</li><li>初始容量（Initial Capacity）：当表被创建时，桶的初始个数。 HashMap 和 HashSet 有可以让你指定初始容量的构造器。</li><li>个数（Size）：目前存储在表中的键值对的个数。</li><li>负载因子（Load factor）：通常表现为 $\frac{size}{capacity}$。当负载因子大小为 0 的时候表示为一个空表。当负载因子大小为 0.5 表示为一个半满表（half-full table），以此类推。轻负载的表几乎没有冲突，因此是插入和查找的最佳选择（但会减慢使用迭代器进行遍历的过程）。 HashMap 和 HashSet 有可以让你指定负载因子的构造器。当表内容量达到了负载因子，集合就会自动扩充为原始容量（桶的数量）的两倍，并且会将原始的对象存储在新的桶集合中（也被称为 rehashing）</li></ul><p>HashMap 中负载因子的大小为 0.75（当表内容量大小不足四分之三的时候，不会发生 rehashing 现象）。这看起来是一个非常好的同时考虑到时间和空间消耗的平衡策略。更高的负载因子会减少空间的消耗，但是会增加查询的耗时。重要的是，查询操作是你使用的最频繁的一个操作（包括 <code>get()</code> 和 <code>put()</code> 方法）。</p><p>如果你知道存储在 HashMap 中确切的条目个数，直接创建一个足够容量大小的 HashMap，以避免自动发生的 rehashing 操作。</p><p>[^1]: [^2]: 事实证明，质数实际上并不是散列桶的理想容量。近来，（经过广泛的测试）Java的散列函数都使用2的整数次方。对现代的处理器来说，除法与求余数是最慢的操作。使用2的整数次方长度的散列表，可用掩码代替除法。</p></div></div></main><footer class="VPDocFooter" data-v-a3c25e27 data-v-a2d931e4><!--[--><!--]--><!----><nav class="prev-next" data-v-a2d931e4><div class="pager" data-v-a2d931e4><a class="pager-link prev" href="/book/Appendix-New-IO.html#%E6%96%87%E4%BB%B6%E9%94%81%E5%AE%9A" data-v-a2d931e4><span class="desc" data-v-a2d931e4>Previous page</span><span class="title" data-v-a2d931e4>文件锁定</span></a></div><div class="pager" data-v-a2d931e4><a class="pager-link next" href="/book/Appendix-Understanding-equals-and-hashCode.html#equals%E5%85%B8%E8%8C%83" data-v-a2d931e4><span class="desc" data-v-a2d931e4>Next page</span><span class="title" data-v-a2d931e4>equals典范</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"book_00-on-java-8.md\":\"c60cbd36\",\"style_prism-master_readme.md\":\"667f1b89\",\"book_01-what-is-an-object.md\":\"98c2562c\",\"api-examples.md\":\"4c210b67\",\"book_03-objects-everywhere.md\":\"cd02d29f\",\"book_02-installing-java-and-the-book-examples.md\":\"454fd0c3\",\"book_00-introduction.md\":\"d2cf15ce\",\"book_00-preface.md\":\"4366a80e\",\"book_07-implementation-hiding.md\":\"7b396dd0\",\"book_05-control-flow.md\":\"8e918a03\",\"style_prism-master_changelog.md\":\"625fc557\",\"book_04-operators.md\":\"aafd8a29\",\"book_08-reuse.md\":\"b60996e6\",\"index.md\":\"955c9791\",\"book_glossary.md\":\"82c09b8b\",\"book_appendix-passing-and-returning-objects.md\":\"e0ff22aa\",\"book_appendix-standard-io.md\":\"58b2041e\",\"book_appendix-programming-guidelines.md\":\"1943911d\",\"book_appendix-supplements.md\":\"1afc2d64\",\"book_appendix-the-positive-legacy-of-c-plus-plus-and-java.md\":\"3323cee5\",\"book_appendix-becoming-a-programmer.md\":\"2ff426d8\",\"book_13-functional-programming.md\":\"603c04c9\",\"book_appendix-understanding-equals-and-hashcode.md\":\"5a1b02f0\",\"book_15-exceptions.md\":\"9a495e4d\",\"book_09-polymorphism.md\":\"94232f7e\",\"book_appendix-data-compression.md\":\"d345635a\",\"book_17-files.md\":\"8a14f4ff\",\"book_appendix-io-streams.md\":\"d3910eb5\",\"book_appendix-javadoc.md\":\"be283f61\",\"book_appendix-benefits-and-costs-of-static-type-checking.md\":\"c4487f34\",\"book_11-inner-classes.md\":\"ebc2a4af\",\"book_appendix-new-io.md\":\"1b6e496f\",\"book_appendix-low-level-concurrency.md\":\"68dd70ec\",\"book_24-concurrent-programming.md\":\"7556bc5d\",\"sidebar.md\":\"70206036\",\"book_10-interfaces.md\":\"7b4d385c\",\"book_19-type-information.md\":\"562845e4\",\"book_25-patterns.md\":\"9977cfd1\",\"book_12-collections.md\":\"85ea19f7\",\"book_14-streams.md\":\"e74aca7d\",\"book_06-housekeeping.md\":\"102d47f4\",\"book_18-strings.md\":\"09fc85b4\",\"book_appendix-object-serialization.md\":\"9920674f\",\"book_23-annotations.md\":\"1022f62a\",\"book_16-validating-your-code.md\":\"172abb8b\",\"book_22-enumerations.md\":\"0dd7672f\",\"book_appendix-collection-topics.md\":\"bea6879e\",\"book_20-generics.md\":\"c72e22cc\",\"book_21-arrays.md\":\"e33d79c2\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"On Java8\",\"description\":\"java 编程思想第5版，on java 8\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.jpg\",\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"开始阅读\",\"link\":\"/book/00-On-Java-8.md\"},{\"text\":\"计算机底层\",\"link\":\"https://cpu.wonyes.org\"},{\"text\":\"原创画作\",\"link\":\"https://www.wonyes.org\"}],\"sidebar\":[{\"text\":\"On Java 8\",\"link\":\"/book/00-On-Java-8.md\",\"items\":[{\"text\":\"封面\",\"link\":\"/book/00-On-Java-8.md\"},{\"text\":\"前言\",\"link\":\"/book/00-Preface.md\"},{\"text\":\"简介\",\"link\":\"/book/00-Introduction.md\"}]},{\"text\":\"第一章 对象的概念\",\"link\":\"/book/01-What-is-an-Object.md\",\"items\":[{\"text\":\"抽象\",\"link\":\"/book/01-What-is-an-Object.md#抽象\"},{\"text\":\"接口\",\"link\":\"/book/01-What-is-an-Object.md#接口\"},{\"text\":\"服务提供\",\"link\":\"/book/01-What-is-an-Object.md#服务提供\"},{\"text\":\"封装\",\"link\":\"/book/01-What-is-an-Object.md#封装\"},{\"text\":\"复用\",\"link\":\"/book/01-What-is-an-Object.md#复用\"},{\"text\":\"继承\",\"link\":\"/book/01-What-is-an-Object.md#继承\"},{\"text\":\"多态\",\"link\":\"/book/01-What-is-an-Object.md#多态\"},{\"text\":\"单继承\",\"link\":\"/book/01-What-is-an-Object.md#单继承\"},{\"text\":\"集合\",\"link\":\"/book/01-What-is-an-Object.md#集合\"},{\"text\":\"生命周期\",\"link\":\"/book/01-What-is-an-Object.md#生命周期\"},{\"text\":\"异常处理\",\"link\":\"/book/01-What-is-an-Object.md#异常处理\"},{\"text\":\"本章小结\",\"link\":\"/book/01-What-is-an-Object.md#本章小结\"}]},{\"text\":\"第二章 安装Java和本书用例\",\"link\":\"/book/02-Installing-Java-and-the-Book-Examples.md\",\"items\":[{\"text\":\"编辑器\",\"link\":\"/book/02-Installing-Java-and-the-Book-Examples.md#编辑器\"},{\"text\":\"Shell\",\"link\":\"/book/02-Installing-Java-and-the-Book-Examples.md#Shell\"},{\"text\":\"Java安装\",\"link\":\"/book/02-Installing-Java-and-the-Book-Examples.md#Java安装\"},{\"text\":\"校验安装\",\"link\":\"/book/02-Installing-Java-and-the-Book-Examples.md#校验安装\"}]},{\"text\":\"安装和运行代码示例\",\"link\":\"/book/02-Installing-Java-and-the-Book-Examples.md#安装和运行代码示例\"},{\"text\":\"第三章 万物皆对象\",\"link\":\"/book/03-Objects-Everywhere.md\",\"items\":[{\"text\":\"对象操纵\",\"link\":\"/book/03-Objects-Everywhere.md#对象操纵\"},{\"text\":\"对象创建\",\"link\":\"/book/03-Objects-Everywhere.md#对象创建\"},{\"text\":\"代码注释\",\"link\":\"/book/03-Objects-Everywhere.md#代码注释\"},{\"text\":\"对象清理\",\"link\":\"/book/03-Objects-Everywhere.md#对象清理\"},{\"text\":\"类的创建\",\"link\":\"/book/03-Objects-Everywhere.md#类的创建\"},{\"text\":\"程序编写\",\"link\":\"/book/03-Objects-Everywhere.md#程序编写\"},{\"text\":\"小试牛刀\",\"link\":\"/book/03-Objects-Everywhere.md#小试牛刀\"},{\"text\":\"编码风格\",\"link\":\"/book/03-Objects-Everywhere.md#编码风格\"},{\"text\":\"本章小结\",\"link\":\"/book/03-Objects-Everywhere.md#本章小结\"}]},{\"text\":\"第四章 运算符\",\"link\":\"/book/04-Operators.md\",\"items\":[{\"text\":\"开始使用\",\"link\":\"/book/04-Operators.md#开始使用\"},{\"text\":\"优先级\",\"link\":\"/book/04-Operators.md#优先级\"},{\"text\":\"赋值\",\"link\":\"/book/04-Operators.md#赋值\"},{\"text\":\"算术运算符\",\"link\":\"/book/04-Operators.md#算术运算符\"},{\"text\":\"递增和递减\",\"link\":\"/book/04-Operators.md#递增和递减\"},{\"text\":\"关系运算符\",\"link\":\"/book/04-Operators.md#关系运算符\"},{\"text\":\"逻辑运算符\",\"link\":\"/book/04-Operators.md#逻辑运算符\"},{\"text\":\"字面值常量\",\"link\":\"/book/04-Operators.md#字面值常量\"},{\"text\":\"按位运算符\",\"link\":\"/book/04-Operators.md#按位运算符\"},{\"text\":\"移位运算符\",\"link\":\"/book/04-Operators.md#移位运算符\"},{\"text\":\"三元运算符\",\"link\":\"/book/04-Operators.md#三元运算符\"},{\"text\":\"字符串运算符\",\"link\":\"/book/04-Operators.md#字符串运算符\"},{\"text\":\"常见陷阱\",\"link\":\"/book/04-Operators.md#常见陷阱\"},{\"text\":\"类型转换\",\"link\":\"/book/04-Operators.md#类型转换\"},{\"text\":\"Java没有sizeof\",\"link\":\"/book/04-Operators.md#Java没有sizeof\"},{\"text\":\"运算符总结\",\"link\":\"/book/04-Operators.md#运算符总结\"},{\"text\":\"本章小结\",\"link\":\"/book/04-Operators.md#本章小结\"}]},{\"text\":\"第五章 控制流\",\"link\":\"/book/05-Control-Flow.md\",\"items\":[{\"text\":\"true和flase\",\"link\":\"/book/05-Control-Flow.md#true和flase\"},{\"text\":\"if-else\",\"link\":\"/book/05-Control-Flow.md#if-else\"},{\"text\":\"迭代语句\",\"link\":\"/book/05-Control-Flow.md#迭代语句\"},{\"text\":\"for-in语法\",\"link\":\"/book/05-Control-Flow.md#for-in语法\"},{\"text\":\"return\",\"link\":\"/book/05-Control-Flow.md#return\"},{\"text\":\"break和continue\",\"link\":\"/book/05-Control-Flow.md#break和continue\"},{\"text\":\"臭名昭著的goto\",\"link\":\"/book/05-Control-Flow.md#臭名昭著的goto\"},{\"text\":\"switch\",\"link\":\"/book/05-Control-Flow.md#switch\"},{\"text\":\"switch字符串\",\"link\":\"/book/05-Control-Flow.md#switch字符串\"},{\"text\":\"本章小结\",\"link\":\"/book/05-Control-Flow.md#本章小结\"}]},{\"text\":\"第六章 初始化和清理\",\"link\":\"/book/06-Housekeeping.md\",\"items\":[{\"text\":\"利用构造器保证初始化\",\"link\":\"/book/06-Housekeeping.md#利用构造器保证初始化\"},{\"text\":\"方法重载\",\"link\":\"/book/06-Housekeeping.md#方法重载\"},{\"text\":\"无参构造器\",\"link\":\"/book/06-Housekeeping.md#无参构造器\"},{\"text\":\"this关键字\",\"link\":\"/book/06-Housekeeping.md#this关键字\"},{\"text\":\"垃圾回收器\",\"link\":\"/book/06-Housekeeping.md#垃圾回收器\"},{\"text\":\"成员初始化\",\"link\":\"/book/06-Housekeeping.md#成员初始化\"},{\"text\":\"构造器初始化\",\"link\":\"/book/06-Housekeeping.md#构造器初始化\"},{\"text\":\"数组初始化\",\"link\":\"/book/06-Housekeeping.md#数组初始化\"},{\"text\":\"枚举类型\",\"link\":\"/book/06-Housekeeping.md#枚举类型\"},{\"text\":\"本章小结\",\"link\":\"/book/06-Housekeeping.md#本章小结\"}]},{\"text\":\"第七章 封装\",\"link\":\"/book/07-Implementation-Hiding.md\",\"items\":[{\"text\":\"包的概念\",\"link\":\"/book/07-Implementation-Hiding.md#包的概念\"},{\"text\":\"访问权限修饰符\",\"link\":\"/book/07-Implementation-Hiding.md#访问权限修饰符\"},{\"text\":\"接口和实现\",\"link\":\"/book/07-Implementation-Hiding.md#接口和实现\"},{\"text\":\"类访问权限\",\"link\":\"/book/07-Implementation-Hiding.md#类访问权限\"},{\"text\":\"本章小结\",\"link\":\"/book/07-Implementation-Hiding.md#本章小结\"}]},{\"text\":\"第八章 复用\",\"link\":\"/book/08-Reuse.md\",\"items\":[{\"text\":\"组合语法\",\"link\":\"/book/08-Reuse.md#组合语法\"},{\"text\":\"继承语法\",\"link\":\"/book/08-Reuse.md#继承语法\"},{\"text\":\"委托\",\"link\":\"/book/08-Reuse.md#委托\"},{\"text\":\"结合组合与继承\",\"link\":\"/book/08-Reuse.md#结合组合与继承\"},{\"text\":\"组合与继承的选择\",\"link\":\"/book/08-Reuse.md#组合与继承的选择\"},{\"text\":\"protected\",\"link\":\"/book/08-Reuse.md#protected\"},{\"text\":\"向上转型\",\"link\":\"/book/08-Reuse.md#向上转型\"},{\"text\":\"final关键字\",\"link\":\"/book/08-Reuse.md#final关键字\"},{\"text\":\"类初始化和加载\",\"link\":\"/book/08-Reuse.md#类初始化和加载\"},{\"text\":\"本章小结\",\"link\":\"/book/08-Reuse.md#本章小结\"}]},{\"text\":\"第九章 多态\",\"link\":\"/book/09-Polymorphism.md\",\"items\":[{\"text\":\"向上转型回溯\",\"link\":\"/book/09-Polymorphism.md#向上转型回溯\"},{\"text\":\"深入理解\",\"link\":\"/book/09-Polymorphism.md#深入理解\"},{\"text\":\"构造器和多态\",\"link\":\"/book/09-Polymorphism.md#构造器和多态\"},{\"text\":\"返回类型协变\",\"link\":\"/book/09-Polymorphism.md#返回类型协变\"},{\"text\":\"使用继承设计\",\"link\":\"/book/09-Polymorphism.md#使用继承设计\"},{\"text\":\"本章小结\",\"link\":\"/book/09-Polymorphism.md#本章小结\"}]},{\"text\":\"第十章 接口\",\"link\":\"/book/10-Interfaces.md\",\"items\":[{\"text\":\"抽象类和方法\",\"link\":\"/book/10-Interfaces.md#抽象类和方法\"},{\"text\":\"接口创建\",\"link\":\"/book/10-Interfaces.md#接口创建\"},{\"text\":\"抽象类和接口\",\"link\":\"/book/10-Interfaces.md#抽象类和接口\"},{\"text\":\"完全解耦\",\"link\":\"/book/10-Interfaces.md#完全解耦\"},{\"text\":\"多接口结合\",\"link\":\"/book/10-Interfaces.md#多接口结合\"},{\"text\":\"使用继承扩展接口\",\"link\":\"/book/10-Interfaces.md#使用继承扩展接口\"},{\"text\":\"接口适配\",\"link\":\"/book/10-Interfaces.md#接口适配\"},{\"text\":\"接口字段\",\"link\":\"/book/10-Interfaces.md#接口字段\"},{\"text\":\"接口嵌套\",\"link\":\"/book/10-Interfaces.md#接口嵌套\"},{\"text\":\"接口和工厂方法模式\",\"link\":\"/book/10-Interfaces.md#接口和工厂方法模式\"},{\"text\":\"本章小结\",\"link\":\"/book/10-Interfaces.md#本章小结\"}]},{\"text\":\"第十一章 内部类\",\"link\":\"/book/11-Inner-Classes.md\",\"items\":[{\"text\":\"创建内部类\",\"link\":\"/book/11-Inner-Classes.md#创建内部类\"},{\"text\":\"链接外部类\",\"link\":\"/book/11-Inner-Classes.md#链接外部类\"},{\"text\":\"内部类this和new的使用\",\"link\":\"/book/11-Inner-Classes.md#内部类this和new的使用\"},{\"text\":\"内部类向上转型\",\"link\":\"/book/11-Inner-Classes.md#内部类向上转型\"},{\"text\":\"内部类方法和作用域\",\"link\":\"/book/11-Inner-Classes.md#内部类方法和作用域\"},{\"text\":\"匿名内部类\",\"link\":\"/book/11-Inner-Classes.md#匿名内部类\"},{\"text\":\"嵌套类\",\"link\":\"/book/11-Inner-Classes.md#嵌套类\"},{\"text\":\"为什么需要内部类\",\"link\":\"/book/11-Inner-Classes.md#为什么需要内部类\"},{\"text\":\"继承内部类\",\"link\":\"/book/11-Inner-Classes.md#继承内部类\"},{\"text\":\"重写内部类\",\"link\":\"/book/11-Inner-Classes.md#重写内部类\"},{\"text\":\"内部类局部变量\",\"link\":\"/book/11-Inner-Classes.md#内部类局部变量\"},{\"text\":\"内部类标识符\",\"link\":\"/book/11-Inner-Classes.md#内部类标识符\"},{\"text\":\"本章小结\",\"link\":\"/book/11-Inner-Classes.md#本章小结\"}]},{\"text\":\"第十二章 集合\",\"link\":\"/book/12-Collections.md\",\"items\":[{\"text\":\"泛型和类型安全的集合\",\"link\":\"/book/12-Collections.md#泛型和类型安全的集合\"},{\"text\":\"基本概念\",\"link\":\"/book/12-Collections.md#基本概念\"},{\"text\":\"添加元素组\",\"link\":\"/book/12-Collections.md#添加元素组\"},{\"text\":\"集合的打印\",\"link\":\"/book/12-Collections.md#集合的打印\"},{\"text\":\"列表List\",\"link\":\"/book/12-Collections.md#列表List\"},{\"text\":\"迭代器Iterators\",\"link\":\"/book/12-Collections.md#迭代器Iterators\"},{\"text\":\"链表LinkedList\",\"link\":\"/book/12-Collections.md#链表LinkedList\"},{\"text\":\"堆栈Stack\",\"link\":\"/book/12-Collections.md#堆栈Stack\"},{\"text\":\"集合Set\",\"link\":\"/book/12-Collections.md#集合Set\"},{\"text\":\"映射Map\",\"link\":\"/book/12-Collections.md#映射Map\"},{\"text\":\"队列Queue\",\"link\":\"/book/12-Collections.md#队列Queue\"},{\"text\":\"集合与迭代器\",\"link\":\"/book/12-Collections.md#集合与迭代器\"},{\"text\":\"for-in和迭代器\",\"link\":\"/book/12-Collections.md#for-in和迭代器\"},{\"text\":\"本章小结\",\"link\":\"/book/12-Collections.md#本章小结\"}]},{\"text\":\"第十三章 函数式编程\",\"link\":\"/book/13-Functional-Programming.md\",\"items\":[{\"text\":\"新旧对比\",\"link\":\"/book/13-Functional-Programming.md#新旧对比\"},{\"text\":\"Lambda表达式\",\"link\":\"/book/13-Functional-Programming.md#Lambda表达式\"},{\"text\":\"方法引用\",\"link\":\"/book/13-Functional-Programming.md#方法引用\"},{\"text\":\"函数式接口\",\"link\":\"/book/13-Functional-Programming.md#函数式接口\"},{\"text\":\"高阶函数\",\"link\":\"/book/13-Functional-Programming.md#高阶函数\"},{\"text\":\"闭包\",\"link\":\"/book/13-Functional-Programming.md#闭包\"},{\"text\":\"函数组合\",\"link\":\"/book/13-Functional-Programming.md#函数组合\"},{\"text\":\"柯里化和部分求值\",\"link\":\"/book/13-Functional-Programming.md#柯里化和部分求值\"},{\"text\":\"纯函数式编程\",\"link\":\"/book/13-Functional-Programming.md#纯函数式编程\"},{\"text\":\"本章小结\",\"link\":\"/book/13-Functional-Programming.md#本章小结\"}]},{\"text\":\"第十四章 流式编程\",\"link\":\"/book/14-Streams.md\",\"items\":[{\"text\":\"流支持\",\"link\":\"/book/14-Streams.md#流支持\"},{\"text\":\"流创建\",\"link\":\"/book/14-Streams.md#流创建\"},{\"text\":\"中级流操作\",\"link\":\"/book/14-Streams.md#中级流操作\"},{\"text\":\"Optional类\",\"link\":\"/book/14-Streams.md#Optional类\"},{\"text\":\"终端操作\",\"link\":\"/book/14-Streams.md#终端操作\"},{\"text\":\"本章小结\",\"link\":\"/book/14-Streams.md#本章小结\"}]},{\"text\":\"第十五章 异常\",\"link\":\"/book/15-Exceptions.md\",\"items\":[{\"text\":\"异常概念\",\"link\":\"/book/15-Exceptions.md#异常概念\"},{\"text\":\"基本异常\",\"link\":\"/book/15-Exceptions.md#基本异常\"},{\"text\":\"异常捕获\",\"link\":\"/book/15-Exceptions.md#异常捕获\"},{\"text\":\"自定义异常\",\"link\":\"/book/15-Exceptions.md#自定义异常\"},{\"text\":\"异常规范\",\"link\":\"/book/15-Exceptions.md#异常规范\"},{\"text\":\"任意异常捕获\",\"link\":\"/book/15-Exceptions.md#任意异常捕获\"},{\"text\":\"Java标准异常\",\"link\":\"/book/15-Exceptions.md#Java标准异常\"},{\"text\":\"finally关键字\",\"link\":\"/book/15-Exceptions.md#finally关键字\"},{\"text\":\"异常限制\",\"link\":\"/book/15-Exceptions.md#异常限制\"},{\"text\":\"异常构造\",\"link\":\"/book/15-Exceptions.md#异常构造\"},{\"text\":\"Try-With-Resources用法\",\"link\":\"/book/15-Exceptions.md#Try-With-Resources用法\"},{\"text\":\"异常匹配\",\"link\":\"/book/15-Exceptions.md#异常匹配\"},{\"text\":\"异常准则\",\"link\":\"/book/15-Exceptions.md#异常准则\"},{\"text\":\"异常指南\",\"link\":\"/book/15-Exceptions.md#异常指南\"},{\"text\":\"本章小结\",\"link\":\"/book/15-Exceptions.md#本章小结\"}]},{\"text\":\"第十六章 代码校验\",\"link\":\"/book/16-Validating-Your-Code.md\",\"items\":[{\"text\":\"测试\",\"link\":\"/book/16-Validating-Your-Code.md#测试\"},{\"text\":\"前提条件\",\"link\":\"/book/16-Validating-Your-Code.md#前提条件\"},{\"text\":\"测试驱动开发\",\"link\":\"/book/16-Validating-Your-Code.md#测试驱动开发\"},{\"text\":\"日志\",\"link\":\"/book/16-Validating-Your-Code.md#日志\"},{\"text\":\"调试\",\"link\":\"/book/16-Validating-Your-Code.md#调试\"},{\"text\":\"基准测试\",\"link\":\"/book/16-Validating-Your-Code.md#基准测试\"},{\"text\":\"分析和优化\",\"link\":\"/book/16-Validating-Your-Code.md#分析和优化\"},{\"text\":\"风格检测\",\"link\":\"/book/16-Validating-Your-Code.md#风格检测\"},{\"text\":\"静态错误分析\",\"link\":\"/book/16-Validating-Your-Code.md#静态错误分析\"},{\"text\":\"代码重审\",\"link\":\"/book/16-Validating-Your-Code.md#代码重审\"},{\"text\":\"结对编程\",\"link\":\"/book/16-Validating-Your-Code.md#结对编程\"},{\"text\":\"重构\",\"link\":\"/book/16-Validating-Your-Code.md#重构\"},{\"text\":\"持续集成\",\"link\":\"/book/16-Validating-Your-Code.md#持续集成\"},{\"text\":\"本章小结\",\"link\":\"/book/16-Validating-Your-Code.md#本章小结\"}]},{\"text\":\"第十七章 文件\",\"link\":\"/book/17-Files.md\",\"items\":[{\"text\":\"文件和目录路径\",\"link\":\"/book/17-Files.md#文件和目录路径\"},{\"text\":\"目录\",\"link\":\"/book/17-Files.md#目录\"},{\"text\":\"文件系统\",\"link\":\"/book/17-Files.md#文件系统\"},{\"text\":\"路径监听\",\"link\":\"/book/17-Files.md#路径监听\"},{\"text\":\"文件查找\",\"link\":\"/book/17-Files.md#文件查找\"},{\"text\":\"文件读写\",\"link\":\"/book/17-Files.md#文件读写\"},{\"text\":\"本章小结\",\"link\":\"/book/17-Files.md#本章小结\"}]},{\"text\":\"第十八章 字符串\",\"link\":\"/book/18-Strings.md\",\"items\":[{\"text\":\"字符串的不可变\",\"link\":\"/book/18-Strings.md#字符串的不可变\"},{\"text\":\"重载和StringBuilder\",\"link\":\"/book/18-Strings.md#重载和StringBuilder\"},{\"text\":\"意外递归\",\"link\":\"/book/18-Strings.md#意外递归\"},{\"text\":\"字符串操作\",\"link\":\"/book/18-Strings.md#字符串操作\"},{\"text\":\"格式化输出\",\"link\":\"/book/18-Strings.md#格式化输出\"},{\"text\":\"常规表达式\",\"link\":\"/book/18-Strings.md#常规表达式\"},{\"text\":\"扫描输入\",\"link\":\"/book/18-Strings.md#扫描输入\"},{\"text\":\"StringTokenizer类\",\"link\":\"/book/18-Strings.md#StringTokenizer类\"},{\"text\":\"本章小结\",\"link\":\"/book/18-Strings.md#本章小结\"}]},{\"text\":\"第十九章 类型信息\",\"link\":\"/book/19-Type-Information.md\",\"items\":[{\"text\":\"运行时类型信息\",\"link\":\"/book/19-Type-Information.md#运行时类型信息\"},{\"text\":\"类的对象\",\"link\":\"/book/19-Type-Information.md#类的对象\"},{\"text\":\"类型转换检测\",\"link\":\"/book/19-Type-Information.md#类型转换检测\"},{\"text\":\"注册工厂\",\"link\":\"/book/19-Type-Information.md#注册工厂\"},{\"text\":\"类的等价比较\",\"link\":\"/book/19-Type-Information.md#类的等价比较\"},{\"text\":\"反射运行时类信息\",\"link\":\"/book/19-Type-Information.md#反射运行时类信息\"},{\"text\":\"动态代理\",\"link\":\"/book/19-Type-Information.md#动态代理\"},{\"text\":\"Optional类\",\"link\":\"/book/19-Type-Information.md#Optional类\"},{\"text\":\"接口和类型\",\"link\":\"/book/19-Type-Information.md#接口和类型\"},{\"text\":\"本章小结\",\"link\":\"/book/19-Type-Information.md#本章小结\"}]},{\"text\":\"第二十章 泛型\",\"link\":\"/book/20-Generics.md\",\"items\":[{\"text\":\"简单泛型\",\"link\":\"/book/20-Generics.md#简单泛型\"},{\"text\":\"泛型接口\",\"link\":\"/book/20-Generics.md#泛型接口\"},{\"text\":\"泛型方法\",\"link\":\"/book/20-Generics.md#泛型方法\"},{\"text\":\"复杂模型构建\",\"link\":\"/book/20-Generics.md#复杂模型构建\"},{\"text\":\"泛型擦除\",\"link\":\"/book/20-Generics.md#泛型擦除\"},{\"text\":\"补偿擦除\",\"link\":\"/book/20-Generics.md#补偿擦除\"},{\"text\":\"边界\",\"link\":\"/book/20-Generics.md#边界\"},{\"text\":\"通配符\",\"link\":\"/book/20-Generics.md#通配符\"},{\"text\":\"问题\",\"link\":\"/book/20-Generics.md#问题\"},{\"text\":\"自我约束类型\",\"link\":\"/book/20-Generics.md#自我约束类型\"},{\"text\":\"动态类型安全\",\"link\":\"/book/20-Generics.md#动态类型安全\"},{\"text\":\"泛型异常\",\"link\":\"/book/20-Generics.md#泛型异常\"},{\"text\":\"混入\",\"link\":\"/book/20-Generics.md#混入\"},{\"text\":\"潜在类型\",\"link\":\"/book/20-Generics.md#潜在类型\"},{\"text\":\"补偿不足\",\"link\":\"/book/20-Generics.md#补偿不足\"},{\"text\":\"辅助潜在类型\",\"link\":\"/book/20-Generics.md#辅助潜在类型\"},{\"text\":\"泛型的优劣\",\"link\":\"/book/20-Generics.md#泛型的优劣\"}]},{\"text\":\"第二十一章 数组\",\"link\":\"/book/21-Arrays.md\",\"items\":[{\"text\":\"数组特性\",\"link\":\"/book/21-Arrays.md#数组特性\"},{\"text\":\"一等对象\",\"link\":\"/book/21-Arrays.md#一等对象\"},{\"text\":\"返回数组\",\"link\":\"/book/21-Arrays.md#返回数组\"},{\"text\":\"多维数组\",\"link\":\"/book/21-Arrays.md#多维数组\"},{\"text\":\"泛型数组\",\"link\":\"/book/21-Arrays.md#泛型数组\"},{\"text\":\"Arrays的fill方法\",\"link\":\"/book/21-Arrays.md#Arrays的fill方法\"},{\"text\":\"Arrays的setAll方法\",\"link\":\"/book/21-Arrays.md#Arrays的setAll方法\"},{\"text\":\"增量生成\",\"link\":\"/book/21-Arrays.md#增量生成\"},{\"text\":\"随机生成\",\"link\":\"/book/21-Arrays.md#随机生成\"},{\"text\":\"泛型和基本数组\",\"link\":\"/book/21-Arrays.md#泛型和基本数组\"},{\"text\":\"数组元素修改\",\"link\":\"/book/21-Arrays.md#数组元素修改\"},{\"text\":\"数组并行\",\"link\":\"/book/21-Arrays.md#数组并行\"},{\"text\":\"Arrays工具类\",\"link\":\"/book/21-Arrays.md#Arrays工具类\"},{\"text\":\"数组拷贝\",\"link\":\"/book/21-Arrays.md#数组拷贝\"},{\"text\":\"数组比较\",\"link\":\"/book/21-Arrays.md#数组比较\"},{\"text\":\"流和数组\",\"link\":\"/book/21-Arrays.md#流和数组\"},{\"text\":\"数组排序\",\"link\":\"/book/21-Arrays.md#数组排序\"},{\"text\":\"binarySearch二分查找\",\"link\":\"/book/21-Arrays.md#binarySearch二分查找\"},{\"text\":\"parallelPrefix并行前缀\",\"link\":\"/book/21-Arrays.md#parallelPrefix并行前缀\"},{\"text\":\"本章小结\",\"link\":\"/book/21-Arrays.md#本章小结\"}]},{\"text\":\"第二十二章 枚举\",\"link\":\"/book/22-Enumerations.md\",\"items\":[{\"text\":\"基本功能\",\"link\":\"/book/22-Enumerations.md#基本功能\"},{\"text\":\"方法添加\",\"link\":\"/book/22-Enumerations.md#方法添加\"},{\"text\":\"switch语句\",\"link\":\"/book/22-Enumerations.md#switch语句\"},{\"text\":\"values方法\",\"link\":\"/book/22-Enumerations.md#values方法\"},{\"text\":\"实现而非继承\",\"link\":\"/book/22-Enumerations.md#实现而非继承\"},{\"text\":\"随机选择\",\"link\":\"/book/22-Enumerations.md#随机选择\"},{\"text\":\"使用接口组织\",\"link\":\"/book/22-Enumerations.md#使用接口组织\"},{\"text\":\"使用EnumSet替代Flags\",\"link\":\"/book/22-Enumerations.md#使用EnumSet替代Flags\"},{\"text\":\"使用EnumMap\",\"link\":\"/book/22-Enumerations.md#使用EnumMap\"},{\"text\":\"常量特定方法\",\"link\":\"/book/22-Enumerations.md#常量特定方法\"},{\"text\":\"多次调度\",\"link\":\"/book/22-Enumerations.md#多次调度\"},{\"text\":\"本章小结\",\"link\":\"/book/22-Enumerations.md#本章小结\"}]},{\"text\":\"第二十三章 注解\",\"link\":\"/book/23-Annotations.md\",\"items\":[{\"text\":\"基本语法\",\"link\":\"/book/23-Annotations.md#基本语法\"},{\"text\":\"编写注解处理器\",\"link\":\"/book/23-Annotations.md#编写注解处理器\"},{\"text\":\"使用javac处理注解\",\"link\":\"/book/23-Annotations.md#使用javac处理注解\"},{\"text\":\"基于注解的单元测试\",\"link\":\"/book/23-Annotations.md#基于注解的单元测试\"},{\"text\":\"本章小结\",\"link\":\"/book/23-Annotations.md#本章小结\"}]},{\"text\":\"第二十四章 并发编程\",\"link\":\"/book/24-Concurrent-Programming.md\",\"items\":[{\"text\":\"术语问题\",\"link\":\"/book/24-Concurrent-Programming.md#术语问题\"},{\"text\":\"并发的超能力\",\"link\":\"/book/24-Concurrent-Programming.md#并发的超能力\"},{\"text\":\"针对速度\",\"link\":\"/book/24-Concurrent-Programming.md#针对速度\"},{\"text\":\"四句格言\",\"link\":\"/book/24-Concurrent-Programming.md#四句格言\"},{\"text\":\"残酷的真相\",\"link\":\"/book/24-Concurrent-Programming.md#残酷的真相\"},{\"text\":\"本章其余部分\",\"link\":\"/book/24-Concurrent-Programming.md#本章其余部分\"},{\"text\":\"并行流\",\"link\":\"/book/24-Concurrent-Programming.md#并行流\"},{\"text\":\"创建和运行任务\",\"link\":\"/book/24-Concurrent-Programming.md#创建和运行任务\"},{\"text\":\"终止耗时任务\",\"link\":\"/book/24-Concurrent-Programming.md#终止耗时任务\"},{\"text\":\"CompletableFuture类\",\"link\":\"/book/24-Concurrent-Programming.md#CompletableFuture类\"},{\"text\":\"死锁\",\"link\":\"/book/24-Concurrent-Programming.md#死锁\"},{\"text\":\"构造函数非线程安全\",\"link\":\"/book/24-Concurrent-Programming.md#构造函数非线程安全\"},{\"text\":\"复杂性和代价\",\"link\":\"/book/24-Concurrent-Programming.md#复杂性和代价\"},{\"text\":\"本章小结\",\"link\":\"/book/24-Concurrent-Programming.md#本章小结\"}]},{\"text\":\"第二十五章 设计模式\",\"link\":\"/book/25-Patterns.md\",\"items\":[{\"text\":\"概念\",\"link\":\"/book/25-Patterns.md#概念\"},{\"text\":\"构建型\",\"link\":\"/book/25-Patterns.md#构建型\"},{\"text\":\"面向实施\",\"link\":\"/book/25-Patterns.md#面向实施\"},{\"text\":\"工厂模式\",\"link\":\"/book/25-Patterns.md#工厂模式\"},{\"text\":\"函数对象\",\"link\":\"/book/25-Patterns.md#函数对象\"},{\"text\":\"接口改变\",\"link\":\"/book/25-Patterns.md#接口改变\"},{\"text\":\"解释器\",\"link\":\"/book/25-Patterns.md#解释器\"},{\"text\":\"回调\",\"link\":\"/book/25-Patterns.md#回调\"},{\"text\":\"多次调度\",\"link\":\"/book/25-Patterns.md#多次调度\"},{\"text\":\"模式重构\",\"link\":\"/book/25-Patterns.md#模式重构\"},{\"text\":\"抽象用法\",\"link\":\"/book/25-Patterns.md#抽象用法\"},{\"text\":\"多次派遣\",\"link\":\"/book/25-Patterns.md#多次派遣\"},{\"text\":\"访问者模式\",\"link\":\"/book/25-Patterns.md#访问者模式\"},{\"text\":\"RTTI的优劣\",\"link\":\"/book/25-Patterns.md#RTTI的优劣\"},{\"text\":\"本章小结\",\"link\":\"/book/25-Patterns.md#本章小结\"}]},{\"text\":\"附录:补充\",\"link\":\"/book/Appendix-Supplements.md\",\"items\":[{\"text\":\"可下载的补充\",\"link\":\"/book/Appendix-Supplements.md#可下载的补充\"},{\"text\":\"通过Thinking-in-C来巩固Java基础\",\"link\":\"/book/Appendix-Supplements.md#通过Thinking-in-C来巩固Java基础\"},{\"text\":\"动手实践\",\"link\":\"/book/Appendix-Supplements.md#动手实践\"}]},{\"text\":\"附录:编程指南\",\"link\":\"/book/Appendix-Programming-Guidelines.md\",\"items\":[{\"text\":\"设计\",\"link\":\"/book/Appendix-Programming-Guidelines.md#设计\"},{\"text\":\"实现\",\"link\":\"/book/Appendix-Programming-Guidelines.md#实现\"}]},{\"text\":\"附录:文档注释\",\"link\":\"/book/Appendix-Javadoc.md\"},{\"text\":\"附录:对象传递和返回\",\"link\":\"/book/Appendix-Passing-and-Returning-Objects.md\",\"items\":[{\"text\":\"传递引用\",\"link\":\"/book/Appendix-Passing-and-Returning-Objects.md#传递引用\"},{\"text\":\"本地拷贝\",\"link\":\"/book/Appendix-Passing-and-Returning-Objects.md#本地拷贝\"},{\"text\":\"控制克隆\",\"link\":\"/book/Appendix-Passing-and-Returning-Objects.md#控制克隆\"},{\"text\":\"不可变类\",\"link\":\"/book/Appendix-Passing-and-Returning-Objects.md#不可变类\"},{\"text\":\"本章小结\",\"link\":\"/book/Appendix-Passing-and-Returning-Objects.md#本章小结\"}]},{\"text\":\"附录:流式IO\",\"link\":\"/book/Appendix-IO-Streams.md\",\"items\":[{\"text\":\"输入流类型\",\"link\":\"/book/Appendix-IO-Streams.md#输入流类型\"},{\"text\":\"输出流类型\",\"link\":\"/book/Appendix-IO-Streams.md#输出流类型\"},{\"text\":\"添加属性和有用的接口\",\"link\":\"/book/Appendix-IO-Streams.md#添加属性和有用的接口\"},{\"text\":\"Reader和Writer\",\"link\":\"/book/Appendix-IO-Streams.md#Reader和Writer\"},{\"text\":\"RandomAccessFile类\",\"link\":\"/book/Appendix-IO-Streams.md#RandomAccessFile类\"},{\"text\":\"IO流典型用途\",\"link\":\"/book/Appendix-IO-Streams.md#IO流典型用途\"},{\"text\":\"本章小结\",\"link\":\"/book/Appendix-IO-Streams.md#本章小结\"}]},{\"text\":\"附录:标准IO\",\"link\":\"/book/Appendix-Standard-IO.md\",\"items\":[{\"text\":\"执行控制\",\"link\":\"/book/Appendix-Standard-IO.md#执行控制\"}]},{\"text\":\"附录:新IO\",\"link\":\"/book/Appendix-New-IO.md\",\"items\":[{\"text\":\"ByteBuffer\",\"link\":\"/book/Appendix-New-IO.md#ByteBuffer\"},{\"text\":\"转换数据\",\"link\":\"/book/Appendix-New-IO.md#数据转换\"},{\"text\":\"获取原始类型\",\"link\":\"/book/Appendix-New-IO.md#基本类型获取\"},{\"text\":\"视图缓冲区\",\"link\":\"/book/Appendix-New-IO.md#视图缓冲区\"},{\"text\":\"使用缓冲区进行数据操作\",\"link\":\"/book/Appendix-New-IO.md#缓冲区数据操作\"},{\"text\":\"内存映射文件\",\"link\":\"/book/Appendix-New-IO.md#内存映射文件\"},{\"text\":\"文件锁定\",\"link\":\"/book/Appendix-New-IO.md#文件锁定\"}]},{\"text\":\"附录:理解equals和hashCode方法\",\"link\":\"/book/Appendix-Understanding-equals-and-hashCode.md\",\"items\":[{\"text\":\"equals典范\",\"link\":\"/book/Appendix-Understanding-equals-and-hashCode.md#equals典范\"},{\"text\":\"哈希和哈希码\",\"link\":\"/book/Appendix-Understanding-equals-and-hashCode.md#哈希和哈希码\"},{\"text\":\"调整HashMap\",\"link\":\"/book/Appendix-Understanding-equals-and-hashCode.md#调整HashMap\"}]},{\"text\":\"附录:集合主题\",\"link\":\"/book/Appendix-Collection-Topics.md\",\"items\":[{\"text\":\"示例数据\",\"link\":\"/book/Appendix-Collection-Topics.md#示例数据\"},{\"text\":\"List表现\",\"link\":\"/book/Appendix-Collection-Topics.md#List表现\"},{\"text\":\"Set表现\",\"link\":\"/book/Appendix-Collection-Topics.md#Set表现\"},{\"text\":\"在Map中使用函数式操作\",\"link\":\"/book/Appendix-Collection-Topics.md#在Map中使用函数式操作\"},{\"text\":\"选择Map的部分\",\"link\":\"/book/Appendix-Collection-Topics.md#选择Map的部分\"},{\"text\":\"集合的fill方法\",\"link\":\"/book/Appendix-Collection-Topics.md#集合的fill方法\"},{\"text\":\"使用Flyweight自定义集合和Map\",\"link\":\"/book/Appendix-Collection-Topics.md#使用Flyweight自定义集合和Map\"},{\"text\":\"集合功能\",\"link\":\"/book/Appendix-Collection-Topics.md#集合功能\"},{\"text\":\"可选操作\",\"link\":\"/book/Appendix-Collection-Topics.md#可选操作\"},{\"text\":\"Set和存储顺序\",\"link\":\"/book/Appendix-Collection-Topics.md#Set和存储顺序\"},{\"text\":\"队列\",\"link\":\"/book/Appendix-Collection-Topics.md#队列\"},{\"text\":\"理解Map\",\"link\":\"/book/Appendix-Collection-Topics.md#理解Map\"},{\"text\":\"集合工具类\",\"link\":\"/book/Appendix-Collection-Topics.md#集合工具类\"},{\"text\":\"持有引用\",\"link\":\"/book/Appendix-Collection-Topics.md#持有引用\"},{\"text\":\"避免旧式类库\",\"link\":\"/book/Appendix-Collection-Topics.md#避免旧式类库\"},{\"text\":\"本章小结\",\"link\":\"/book/Appendix-Collection-Topics.md#本章小结\"}]},{\"text\":\"附录:并发底层原理\",\"link\":\"/book/Appendix-Low-Level-Concurrency.md\",\"items\":[{\"text\":\"线程\",\"link\":\"/book/Appendix-Low-Level-Concurrency.md#线程\"},{\"text\":\"异常捕获\",\"link\":\"/book/Appendix-Low-Level-Concurrency.md#异常捕获\"},{\"text\":\"资源共享\",\"link\":\"/book/Appendix-Low-Level-Concurrency.md#资源共享\"},{\"text\":\"volatile关键字\",\"link\":\"/book/Appendix-Low-Level-Concurrency.md#volatile关键字\"},{\"text\":\"原子性\",\"link\":\"/book/Appendix-Low-Level-Concurrency.md#原子性\"},{\"text\":\"关键部分\",\"link\":\"/book/Appendix-Low-Level-Concurrency.md#关键部分\"},{\"text\":\"库组件\",\"link\":\"/book/Appendix-Low-Level-Concurrency.md#库组件\"},{\"text\":\"本章小结\",\"link\":\"/book/Appendix-Low-Level-Concurrency.md#本章小结\"}]},{\"text\":\"附录:数据压缩\",\"link\":\"/book/Appendix-Data-Compression.md\",\"items\":[{\"text\":\"使用Gzip简单压缩\",\"link\":\"/book/Appendix-Data-Compression.md#使用Gzip简单压缩\"},{\"text\":\"使用zip多文件存储\",\"link\":\"/book/Appendix-Data-Compression.md#使用zip多文件存储\"},{\"text\":\"Java的jar\",\"link\":\"/book/Appendix-Data-Compression.md#Java的jar\"}]},{\"text\":\"附录:对象序列化\",\"link\":\"/book/Appendix-Object-Serialization.md\",\"items\":[{\"text\":\"查找类\",\"link\":\"/book/Appendix-Object-Serialization.md#查找类\"},{\"text\":\"控制序列化\",\"link\":\"/book/Appendix-Object-Serialization.md#控制序列化\"},{\"text\":\"使用持久化\",\"link\":\"/book/Appendix-Object-Serialization.md#使用持久化\"}]},{\"text\":\"附录:静态语言类型检查\",\"link\":\"/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.md\",\"items\":[{\"text\":\"前言\",\"link\":\"/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.md#前言\"},{\"text\":\"静态类型检查和测试\",\"link\":\"/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.md#静态类型检查和测试\"},{\"text\":\"如何提升打字\",\"link\":\"/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.md#如何提升打字\"},{\"text\":\"生产力的成本\",\"link\":\"/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.md#生产力的成本\"},{\"text\":\"静态和动态\",\"link\":\"/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.md#静态和动态\"}]},{\"text\":\"附录:C++和Java的优良传统\",\"link\":\"/book/Appendix-The-Positive-Legacy-of-C-plus-plus-and-Java.md\"},{\"text\":\"附录:成为一名程序员\",\"link\":\"/book/Appendix-Becoming-a-Programmer.md\",\"items\":[{\"text\":\"如何开始\",\"link\":\"/book/Appendix-Becoming-a-Programmer.md#如何开始\"},{\"text\":\"码农生涯\",\"link\":\"/book/Appendix-Becoming-a-Programmer.md#码农生涯\"},{\"text\":\"百分之五的神话\",\"link\":\"/book/Appendix-Becoming-a-Programmer.md#百分之五的神话\"},{\"text\":\"重在动手\",\"link\":\"/book/Appendix-Becoming-a-Programmer.md#重在动手\"},{\"text\":\"像打字般编程\",\"link\":\"/book/Appendix-Becoming-a-Programmer.md#像打字般编程\"},{\"text\":\"做你喜欢的事\",\"link\":\"/book/Appendix-Becoming-a-Programmer.md#做你喜欢的事\"}]},{\"text\":\"词汇表\",\"link\":\"/book/GLOSSARY.md\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/jianchang512/onJava8\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>